{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/GLRenderer.vue?be97","webpack:///./src/pages/Viewer.vue?86cb","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/App.vue?1ad8","webpack:///./src/polyfills/math.polyfill.ts","webpack:///./src/components/ViewerTool.vue?dd27","webpack:///./src/App.vue?ede9","webpack:///./src/stores/viewer/getters.ts","webpack:///./src/stores/viewer/mutations.ts","webpack:///./src/App.vue?3fc9","webpack:///./src/App.vue","webpack:///./src/App.vue?cf72","webpack:///./src/constants/index.ts","webpack:///./src/constants/planets.constant.ts","webpack:///./src/constants/scenario.constant.ts","webpack:///./src/stores/viewer/state.ts","webpack:///./src/stores/viewer/actions.ts","webpack:///./src/stores/viewer/config.ts","webpack:///./src/stores/viewer/index.ts","webpack:///./src/stores/store.ts","webpack:///./src/lib/services/Loader.service.ts","webpack:///./src/shaders/atmosphere.vsh","webpack:///./src/shaders/atmosphere.fsh","webpack:///./src/lib/services/Dimension.service.ts","webpack:///./src/lib/helpers/Label.ts","webpack:///./src/lib/astronomical/AstronomicalObject.ts","webpack:///./src/lib/astronomical/AtmoSphere.ts","webpack:///./src/lib/services/Kepler.service.ts","webpack:///./src/lib/managers/Orbit.manager.ts","webpack:///./src/lib/services/Color.service.ts","webpack:///./src/lib/helpers/Tracer.ts","webpack:///./src/lib/astronomical/Planet.ts","webpack:///./src/lib/astronomical/Star.ts","webpack:///./src/lib/systems/System.ts","webpack:///./src/lib/systems/StarSystem.ts","webpack:///./src/lib/systems/PlanetSystem.ts","webpack:///./src/lib/graphics/Scenario.ts","webpack:///./src/lib/managers/Camera.manager.ts","webpack:///./src/plugin/Orbit-controls.ts","webpack:///./src/lib/managers/Controls.manager.ts","webpack:///./src/lib/helpers/Ticker.ts","webpack:///./src/lib/graphics/World.ts","webpack:///./src/components/GLRenderer.vue?e104","webpack:///./src/components/GLRenderer.vue?1151","webpack:///./src/components/GLRenderer.vue","webpack:///./src/components/GLRenderer.vue?bb55","webpack:///./src/components/ViewerTool.vue?23bb","webpack:///./src/components/ViewerTool.vue?30a0","webpack:///./src/components/ViewerTool.vue","webpack:///./src/components/ViewerTool.vue?fa0c","webpack:///./src/pages/Viewer.vue?3238","webpack:///./src/pages/Viewer.vue?0826","webpack:///./src/pages/Viewer.vue","webpack:///./src/pages/Viewer.vue?107f","webpack:///./src/router/index.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","Math","sinh","x","exp","cosh","pow","E","sign","extendStatics","__extends","b","setPrototypeOf","__proto__","Array","__","this","constructor","__decorate","decorators","target","desc","arguments","getOwnPropertyDescriptor","Reflect","decorate","_super","App","_this","_h","$createElement","_c","_self","attrs","AU","CIRCLE","PI","QUARTER_CIRCLE","DEG_TO_RAD","DAY","J2000","Date","TEX_DIR","SolarSystem","system","type","star","mass","radius","sideralDay","k","orbit","base","a","lp","cy","material","emissive","color","planets","tilt","atmosphere","atmospherePressure","components","ratio","ring","innerRadius","outerRadius","startDate","secondsPerTick","DAY_PER_SECOND","calcPerTick","scenarios","currentScenario","isPlaying","currentDate","currentCameraPosition","timesets","time","REALTIME","HOUR_PER_SECOND","MONTH_PER_SECOND","HALF_YEAR_PER_SECOND","state","tick","getters","mutations","actions","use","Store","viewer","LoaderService","shaders","load","defer","promise","getShaders","getVertexShader","getFregmentShader","removeShaders","DimensionService","scale","setLargestDimension","dim","getScaledVector","obj","multiplyScalar","getScaled","Label","planetName","centerVector","position","elementString","elementDOM","appendTo","updatePosition","camera","clone","position2d","get2DPosition","setElementPosition","style","transform","y","z","opacity","css","project","w","innerWidth","h","innerHeight","distance","distanceTo","span","atan","fov","factor","log10","AstronomicalObject","renderedRadius","bodyQuality","segment","rings","root","compressedPos","bodyId","helperId","ringId","labelManager","createObjectBasicBody","get3DBody","setShowHelper","val","helper","body","getObjectByName","visible","console","error","getObjectCompressedSize","toKM","getObjectStageSize","moveRotating","epochTime","rotation","getTime","mat","assign","geometry","mesh","add","setHelper","centerPos","tailPos","vertices","AtmoSphere","getAllComponents","getComponentsById","filter","v","getHighestRateComponent","getLowestRateComponent","KeplerService","getEccentricity","nextStep","x1","maxIter","computeLaguerre","f","f1","f2","sqrt","abs","compute","M","sin","cos","computeWithLaguerre","computeWithLaguerreHyp","OrbitManager","orbitData","computedPosition","defaultPosition","euler1","euler2","quaternion1","quaternion2","multiplyQuaternion","setName","getPosFromElements","computed","a1","set","a2","q1","setFromEuler","q2","planeQuaternion","multiplyQuaternions","pos","applyQuaternion","calcElements","timeEpoch","variation_1","tCentury","reduce","carry","el","day","getEccentricAnomaly","atan2","calcPosition","ColorService","hexToRgb","hex","outputArr","exec","parseInt","g","rgbToHex","toString","darken","output","parsedFactor","forEach","Tracer","maxLength","createTrace","getTracer","trace","updateTrace","vertex","attrArrLength","positionArr","Float32Array","colorArr","colorRGB","index","computedColor","positionAttr","colorAttr","addAttribute","attributes","needsUpdate","vertexColors","Planet","astronomical","orbitManager","angle","force","movement","prevPosition","relPosition","absVelocity","relVelocity","orbitTraceLength","traceManager","hasTrace","setPlanetBody","innerSize","outerSize","transparent","side","getPlanetRoot","getPlanetBody","setPositionByDate","date","getPosition","currentPosition","getScreenSizeRatio","camPos","size","sub","tan","reset","Star","flareSize","flareMapResource","setStarBody","setFlare","setLight","setFlareSize","sizeRatio","screenHeight","setFlarePosition","lensFlare","copy","flareMap","flareColor","setHSL","customUpdateCallback","flare","len","lensFlares","vectorX","positionScreen","vectorY","wantedRotation","light","StarSystem","planetData","getCenter","getCenterBody","getPlanets","getPlanetById","planet","getPlanetByName","getPlanetBodies","arr","setPlanetsPosition","PlanetSystem","moons","centralPlanet","moonData","getMoons","getMoonById","moon","getMoonByName","getMoonBodies","setMoonsPosition","Scenario","systemType","setSystem","getStartDate","getSecondsPerTick","getCalcPerTick","getBodies","center","others","getAstronomicalObjects","DEFAULT_CONFIG","CameraManager","scene","stageSize","aspect","near","allCams","defaultVector","cameraConfig","far","init","globalCamera","createCamera","getDistanceFromFov","lookAt","_a","up","currentCamera","getCurrentCamera","setCameraPosition","scenario","planetId","cam","remove","initCurrentCameraPosition","getAbsolutePosition","parent","localToWorld","getConfig","dimToSee","STATE","CHANGE_EVENT","START_EVENT","END_EVENT","OrbitControls","domElement","domWindow","undefined","document","enabled","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","ORBIT","ZOOM","MIDDLE","PAN","target0","position0","zoom0","zoom","updateOffset","updateQuat","setFromUnitVectors","updateQuatInverse","inverse","updateLastPosition","updateLastQuaternion","spherical","sphericalDelta","panOffset","zoomChanged","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","panLeftV","panUpV","panInternalOffset","onMouseDown","event","preventDefault","button","clientX","clientY","addEventListener","onMouseMove","onMouseUp","dispatchEvent","subVectors","element","rotateLeft","clientWidth","rotateUp","clientHeight","update","dollyIn","getZoomScale","dollyOut","pan","removeEventListener","onMouseWheel","stopPropagation","deltaY","onKeyDown","keyCode","onTouchStart","touches","pageX","pageY","dx","dy","onTouchMove","onTouchEnd","onContextMenu","setFromVector3","getAutoRotationAngle","theta","phi","max","min","makeSafe","setFromSpherical","distanceToSquared","dot","quaternion","panLeft","objectMatrix","setFromMatrixColumn","panUp","deltaX","targetDistance","matrix","right","left","top","bottom","warn","dollyScale","updateProjectionMatrix","getPolarAngle","getAzimuthalAngle","dispose","configurable","ControlsManager","rendererDOM","config","controlsCenter","createControls","controls","updateCenter","setConfig","getControls","Ticker","actualCalcPerTick","deltaTIncrement","nextDate","_epochTime","setDeltaT","round","setCalcPerTick","setSecondsPerTick","World","rendererSelector","rendererWidth","rendererHeight","rendererRatio","devicePixelRatio","setRenderer","renderConfig","antialias","preserveDrawingBuffer","alpha","currentSpaceTexture","setWindow","setDimension","smallest","largest","smallestSMA","calcDimension","scenarioData","sma","selector","rendererDOMjQuery","width","height","setScenario","planetBodies","planetBody","getScenario","renderer","setSize","setPixelRatio","setClearColor","raycaster","mousePos","append","on","onClick","initCamera","initControls","initSpacebox","ticker","setPlanets","render","centerObject","cameraAbsolutePosition","starPosition","flarePosition","bodies","currentTime","epochTime_1","queue","Promise","all","cameraPos","space","rotateX","initHelper","axisHelper","gridHelper","bodies3d","intersectObjects","children","GLRenderer","rendererID","world","requestAnimationFrame","setCurrentDate","loadWorld","then","res","onChangeIsPlaying","onChangeCurrentCameraPosition","onChangeCurrentSecondsPerTick","mounted","$nextTick","ref","ViewerTool","currentScenarioId","currentCameraPositionPlanetId","currentTimesetIndex","togglePlaying","setPlaying","onChangeCurrentCameraPositionPlanetId","setCurrentCameraPosition","onChangeCurrentTimeIndex","currentTimeset","setCurrentScenarioSecondsPerTick","created","findIndex","timeset","filters","moment","format","_vm","staticClass","directives","rawName","expression","_v","_s","_f","model","callback","$$v","_l","domProps","Viewer","onChangePlaying","routes","path","component","productionTip","registerHooks","store","router","template"],"mappings":"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","file":"static/js/app.435a9d863afc1fe43347.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"zUnb\",1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-2!../../node_modules/sass-loader/dist/cjs.js??ref--11-3!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GLRenderer.vue?vue&type=style&index=0&id=36bae040&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-2!../../node_modules/sass-loader/dist/cjs.js??ref--11-3!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Viewer.vue?vue&type=style&index=0&lang=scss&\"","var map = {\n\t\"./af\": \"K/tc\",\n\t\"./af.js\": \"K/tc\",\n\t\"./ar\": \"jnO4\",\n\t\"./ar-dz\": \"o1bE\",\n\t\"./ar-dz.js\": \"o1bE\",\n\t\"./ar-kw\": \"Qj4J\",\n\t\"./ar-kw.js\": \"Qj4J\",\n\t\"./ar-ly\": \"HP3h\",\n\t\"./ar-ly.js\": \"HP3h\",\n\t\"./ar-ma\": \"CoRJ\",\n\t\"./ar-ma.js\": \"CoRJ\",\n\t\"./ar-sa\": \"gjCT\",\n\t\"./ar-sa.js\": \"gjCT\",\n\t\"./ar-tn\": \"bYM6\",\n\t\"./ar-tn.js\": \"bYM6\",\n\t\"./ar.js\": \"jnO4\",\n\t\"./az\": \"SFxW\",\n\t\"./az.js\": \"SFxW\",\n\t\"./be\": \"H8ED\",\n\t\"./be.js\": \"H8ED\",\n\t\"./bg\": \"hKrs\",\n\t\"./bg.js\": \"hKrs\",\n\t\"./bm\": \"p/rL\",\n\t\"./bm.js\": \"p/rL\",\n\t\"./bn\": \"kEOa\",\n\t\"./bn-bd\": \"loYQ\",\n\t\"./bn-bd.js\": \"loYQ\",\n\t\"./bn.js\": \"kEOa\",\n\t\"./bo\": \"0mo+\",\n\t\"./bo.js\": \"0mo+\",\n\t\"./br\": \"aIdf\",\n\t\"./br.js\": \"aIdf\",\n\t\"./bs\": \"JVSJ\",\n\t\"./bs.js\": \"JVSJ\",\n\t\"./ca\": \"1xZ4\",\n\t\"./ca.js\": \"1xZ4\",\n\t\"./cs\": \"PA2r\",\n\t\"./cs.js\": \"PA2r\",\n\t\"./cv\": \"A+xa\",\n\t\"./cv.js\": \"A+xa\",\n\t\"./cy\": \"l5ep\",\n\t\"./cy.js\": \"l5ep\",\n\t\"./da\": \"DxQv\",\n\t\"./da.js\": \"DxQv\",\n\t\"./de\": \"tGlX\",\n\t\"./de-at\": \"s+uk\",\n\t\"./de-at.js\": \"s+uk\",\n\t\"./de-ch\": \"u3GI\",\n\t\"./de-ch.js\": \"u3GI\",\n\t\"./de.js\": \"tGlX\",\n\t\"./dv\": \"WYrj\",\n\t\"./dv.js\": \"WYrj\",\n\t\"./el\": \"jUeY\",\n\t\"./el.js\": \"jUeY\",\n\t\"./en-au\": \"Dmvi\",\n\t\"./en-au.js\": \"Dmvi\",\n\t\"./en-ca\": \"OIYi\",\n\t\"./en-ca.js\": \"OIYi\",\n\t\"./en-gb\": \"Oaa7\",\n\t\"./en-gb.js\": \"Oaa7\",\n\t\"./en-ie\": \"4dOw\",\n\t\"./en-ie.js\": \"4dOw\",\n\t\"./en-il\": \"czMo\",\n\t\"./en-il.js\": \"czMo\",\n\t\"./en-in\": \"7C5Q\",\n\t\"./en-in.js\": \"7C5Q\",\n\t\"./en-nz\": \"b1Dy\",\n\t\"./en-nz.js\": \"b1Dy\",\n\t\"./en-sg\": \"t+mt\",\n\t\"./en-sg.js\": \"t+mt\",\n\t\"./eo\": \"Zduo\",\n\t\"./eo.js\": \"Zduo\",\n\t\"./es\": \"iYuL\",\n\t\"./es-do\": \"CjzT\",\n\t\"./es-do.js\": \"CjzT\",\n\t\"./es-mx\": \"tbfe\",\n\t\"./es-mx.js\": \"tbfe\",\n\t\"./es-us\": \"Vclq\",\n\t\"./es-us.js\": \"Vclq\",\n\t\"./es.js\": \"iYuL\",\n\t\"./et\": \"7BjC\",\n\t\"./et.js\": \"7BjC\",\n\t\"./eu\": \"D/JM\",\n\t\"./eu.js\": \"D/JM\",\n\t\"./fa\": \"jfSC\",\n\t\"./fa.js\": \"jfSC\",\n\t\"./fi\": \"gekB\",\n\t\"./fi.js\": \"gekB\",\n\t\"./fil\": \"1ppg\",\n\t\"./fil.js\": \"1ppg\",\n\t\"./fo\": \"ByF4\",\n\t\"./fo.js\": \"ByF4\",\n\t\"./fr\": \"nyYc\",\n\t\"./fr-ca\": \"2fjn\",\n\t\"./fr-ca.js\": \"2fjn\",\n\t\"./fr-ch\": \"Dkky\",\n\t\"./fr-ch.js\": \"Dkky\",\n\t\"./fr.js\": \"nyYc\",\n\t\"./fy\": \"cRix\",\n\t\"./fy.js\": \"cRix\",\n\t\"./ga\": \"USCx\",\n\t\"./ga.js\": \"USCx\",\n\t\"./gd\": \"9rRi\",\n\t\"./gd.js\": \"9rRi\",\n\t\"./gl\": \"iEDd\",\n\t\"./gl.js\": \"iEDd\",\n\t\"./gom-deva\": \"qvJo\",\n\t\"./gom-deva.js\": \"qvJo\",\n\t\"./gom-latn\": \"DKr+\",\n\t\"./gom-latn.js\": \"DKr+\",\n\t\"./gu\": \"4MV3\",\n\t\"./gu.js\": \"4MV3\",\n\t\"./he\": \"x6pH\",\n\t\"./he.js\": \"x6pH\",\n\t\"./hi\": \"3E1r\",\n\t\"./hi.js\": \"3E1r\",\n\t\"./hr\": \"S6ln\",\n\t\"./hr.js\": \"S6ln\",\n\t\"./hu\": \"WxRl\",\n\t\"./hu.js\": \"WxRl\",\n\t\"./hy-am\": \"1rYy\",\n\t\"./hy-am.js\": \"1rYy\",\n\t\"./id\": \"UDhR\",\n\t\"./id.js\": \"UDhR\",\n\t\"./is\": \"BVg3\",\n\t\"./is.js\": \"BVg3\",\n\t\"./it\": \"bpih\",\n\t\"./it-ch\": \"bxKX\",\n\t\"./it-ch.js\": \"bxKX\",\n\t\"./it.js\": \"bpih\",\n\t\"./ja\": \"B55N\",\n\t\"./ja.js\": \"B55N\",\n\t\"./jv\": \"tUCv\",\n\t\"./jv.js\": \"tUCv\",\n\t\"./ka\": \"IBtZ\",\n\t\"./ka.js\": \"IBtZ\",\n\t\"./kk\": \"bXm7\",\n\t\"./kk.js\": \"bXm7\",\n\t\"./km\": \"6B0Y\",\n\t\"./km.js\": \"6B0Y\",\n\t\"./kn\": \"PpIw\",\n\t\"./kn.js\": \"PpIw\",\n\t\"./ko\": \"Ivi+\",\n\t\"./ko.js\": \"Ivi+\",\n\t\"./ku\": \"JCF/\",\n\t\"./ku.js\": \"JCF/\",\n\t\"./ky\": \"lgnt\",\n\t\"./ky.js\": \"lgnt\",\n\t\"./lb\": \"RAwQ\",\n\t\"./lb.js\": \"RAwQ\",\n\t\"./lo\": \"sp3z\",\n\t\"./lo.js\": \"sp3z\",\n\t\"./lt\": \"JvlW\",\n\t\"./lt.js\": \"JvlW\",\n\t\"./lv\": \"uXwI\",\n\t\"./lv.js\": \"uXwI\",\n\t\"./me\": \"KTz0\",\n\t\"./me.js\": \"KTz0\",\n\t\"./mi\": \"aIsn\",\n\t\"./mi.js\": \"aIsn\",\n\t\"./mk\": \"aQkU\",\n\t\"./mk.js\": \"aQkU\",\n\t\"./ml\": \"AvvY\",\n\t\"./ml.js\": \"AvvY\",\n\t\"./mn\": \"lYtQ\",\n\t\"./mn.js\": \"lYtQ\",\n\t\"./mr\": \"Ob0Z\",\n\t\"./mr.js\": \"Ob0Z\",\n\t\"./ms\": \"6+QB\",\n\t\"./ms-my\": \"ZAMP\",\n\t\"./ms-my.js\": \"ZAMP\",\n\t\"./ms.js\": \"6+QB\",\n\t\"./mt\": \"G0Uy\",\n\t\"./mt.js\": \"G0Uy\",\n\t\"./my\": \"honF\",\n\t\"./my.js\": \"honF\",\n\t\"./nb\": \"bOMt\",\n\t\"./nb.js\": \"bOMt\",\n\t\"./ne\": \"OjkT\",\n\t\"./ne.js\": \"OjkT\",\n\t\"./nl\": \"+s0g\",\n\t\"./nl-be\": \"2ykv\",\n\t\"./nl-be.js\": \"2ykv\",\n\t\"./nl.js\": \"+s0g\",\n\t\"./nn\": \"uEye\",\n\t\"./nn.js\": \"uEye\",\n\t\"./oc-lnc\": \"Fnuy\",\n\t\"./oc-lnc.js\": \"Fnuy\",\n\t\"./pa-in\": \"8/+R\",\n\t\"./pa-in.js\": \"8/+R\",\n\t\"./pl\": \"jVdC\",\n\t\"./pl.js\": \"jVdC\",\n\t\"./pt\": \"8mBD\",\n\t\"./pt-br\": \"0tRk\",\n\t\"./pt-br.js\": \"0tRk\",\n\t\"./pt.js\": \"8mBD\",\n\t\"./ro\": \"lyxo\",\n\t\"./ro.js\": \"lyxo\",\n\t\"./ru\": \"lXzo\",\n\t\"./ru.js\": \"lXzo\",\n\t\"./sd\": \"Z4QM\",\n\t\"./sd.js\": \"Z4QM\",\n\t\"./se\": \"//9w\",\n\t\"./se.js\": \"//9w\",\n\t\"./si\": \"7aV9\",\n\t\"./si.js\": \"7aV9\",\n\t\"./sk\": \"e+ae\",\n\t\"./sk.js\": \"e+ae\",\n\t\"./sl\": \"gVVK\",\n\t\"./sl.js\": \"gVVK\",\n\t\"./sq\": \"yPMs\",\n\t\"./sq.js\": \"yPMs\",\n\t\"./sr\": \"zx6S\",\n\t\"./sr-cyrl\": \"E+lV\",\n\t\"./sr-cyrl.js\": \"E+lV\",\n\t\"./sr.js\": \"zx6S\",\n\t\"./ss\": \"Ur1D\",\n\t\"./ss.js\": \"Ur1D\",\n\t\"./sv\": \"X709\",\n\t\"./sv.js\": \"X709\",\n\t\"./sw\": \"dNwA\",\n\t\"./sw.js\": \"dNwA\",\n\t\"./ta\": \"PeUW\",\n\t\"./ta.js\": \"PeUW\",\n\t\"./te\": \"XLvN\",\n\t\"./te.js\": \"XLvN\",\n\t\"./tet\": \"V2x9\",\n\t\"./tet.js\": \"V2x9\",\n\t\"./tg\": \"Oxv6\",\n\t\"./tg.js\": \"Oxv6\",\n\t\"./th\": \"EOgW\",\n\t\"./th.js\": \"EOgW\",\n\t\"./tk\": \"Wv91\",\n\t\"./tk.js\": \"Wv91\",\n\t\"./tl-ph\": \"Dzi0\",\n\t\"./tl-ph.js\": \"Dzi0\",\n\t\"./tlh\": \"z3Vd\",\n\t\"./tlh.js\": \"z3Vd\",\n\t\"./tr\": \"DoHr\",\n\t\"./tr.js\": \"DoHr\",\n\t\"./tzl\": \"z1FC\",\n\t\"./tzl.js\": \"z1FC\",\n\t\"./tzm\": \"wQk9\",\n\t\"./tzm-latn\": \"tT3J\",\n\t\"./tzm-latn.js\": \"tT3J\",\n\t\"./tzm.js\": \"wQk9\",\n\t\"./ug-cn\": \"YRex\",\n\t\"./ug-cn.js\": \"YRex\",\n\t\"./uk\": \"raLr\",\n\t\"./uk.js\": \"raLr\",\n\t\"./ur\": \"UpQW\",\n\t\"./ur.js\": \"UpQW\",\n\t\"./uz\": \"Loxo\",\n\t\"./uz-latn\": \"AQ68\",\n\t\"./uz-latn.js\": \"AQ68\",\n\t\"./uz.js\": \"Loxo\",\n\t\"./vi\": \"KSF8\",\n\t\"./vi.js\": \"KSF8\",\n\t\"./x-pseudo\": \"/X5v\",\n\t\"./x-pseudo.js\": \"/X5v\",\n\t\"./yo\": \"fzPg\",\n\t\"./yo.js\": \"fzPg\",\n\t\"./zh-cn\": \"XDpg\",\n\t\"./zh-cn.js\": \"XDpg\",\n\t\"./zh-hk\": \"SatO\",\n\t\"./zh-hk.js\": \"SatO\",\n\t\"./zh-mo\": \"OmwH\",\n\t\"./zh-mo.js\": \"OmwH\",\n\t\"./zh-tw\": \"kOpN\",\n\t\"./zh-tw.js\": \"kOpN\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"RnhZ\";","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/dist/cjs.js!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--11-2!../node_modules/sass-loader/dist/cjs.js??ref--11-3!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","\"use strict\";\n/**\n * @name math\n * @author Evan Moon\n * @desc Math polyfill for hyperbolic methods\n */\nMath.sinh = function (x) {\n    return (Math.exp(x) - Math.exp(-x)) / 2;\n};\nMath.cosh = function (x) {\n    return (Math.pow(Math.E, x)) + (Math.pow(Math.E, -x)) / 2;\n};\nMath.sign = function (x) {\n    return (x >= 0.0) ? 1 : -1;\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-2!../../node_modules/sass-loader/dist/cjs.js??ref--11-3!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewerTool.vue?vue&type=style&index=0&id=42d3c12a&lang=scss&scoped=true&\"","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport Vue from 'vue';\nimport Component from 'vue-class-component';\nvar App = /** @class */ (function (_super) {\n    __extends(App, _super);\n    function App() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.name = 'App';\n        return _this;\n    }\n    App = __decorate([\n        Component({})\n    ], App);\n    return App;\n}(Vue));\nexport default App;\n","var _a;\nimport { GET_CURRENT_SCENARIO_SECONDS_PER_TICK } from './config';\nexport default (_a = {},\n    _a[GET_CURRENT_SCENARIO_SECONDS_PER_TICK] = function (state) {\n        return state.currentScenario.secondsPerTick;\n    },\n    _a);\n","var _a;\nimport { SET_PLAYING, SET_CURRENT_DATE, SET_CURRENT_CAMERA_POSITION, SET_CURRENT_SCENARIO_SECONDS_PER_TICK } from './config';\nexport default (_a = {},\n    _a[SET_PLAYING] = function (state, isPlaying) {\n        state.isPlaying = isPlaying;\n    },\n    _a[SET_CURRENT_DATE] = function (state, currentDate) {\n        state.currentDate = currentDate;\n    },\n    _a[SET_CURRENT_CAMERA_POSITION] = function (state, currentCameraPosition) {\n        state.currentCameraPosition = currentCameraPosition;\n    },\n    _a[SET_CURRENT_SCENARIO_SECONDS_PER_TICK] = function (state, tick) {\n        state.currentScenario.secondsPerTick = tick;\n    },\n    _a);\n","import mod from \"-!../node_modules/ts-loader/index.js??ref--2!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/ts-loader/index.js??ref--2!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=0c8387a4&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export var G = 6.6742e-11;\nexport var AU = 149597870; // astronomical unit in km\nexport var CIRCLE = 2 * Math.PI;\nexport var QUARTER_CIRCLE = Math.PI / 2;\nexport var KM = 1000;\nexport var DEG_TO_RAD = Math.PI / 180;\nexport var RAD_TO_DEG = 180 / Math.PI;\nexport var NM_TO_KM = 1.852;\nexport var LB_TO_KG = 0.453592;\nexport var LBF_TO_NEWTON = 4.44822162;\nexport var FT_TO_M = 0.3048;\nexport var HOUR = 60 * 60;\nexport var DAY = 24 * HOUR; // duration in seconds\nexport var YEAR = 365.25; // duration in days\nexport var CENTURY = 100 * YEAR; // duration in days\nexport var SIDERAL_DAY = 3600 * 23.9344696;\nexport var J2000 = new Date('2000-01-01T12:00:00-00:00');\nexport var DEFAULT_CALC_PER_TICK = 1;\nexport var REALTIME = 3600 * 10 / 60 / 60; // RealTime\nexport var HOUR_PER_SECOND = REALTIME * HOUR;\nexport var DAY_PER_SECOND = HOUR_PER_SECOND * 24;\nexport var MONTH_PER_SECOND = DAY_PER_SECOND * 30;\nexport var HALF_YEAR_PER_SECOND = MONTH_PER_SECOND * 6;\nexport var YEAR_PER_SECOND = HALF_YEAR_PER_SECOND * 2;\n","import { AU, SIDERAL_DAY, NM_TO_KM, DAY, HOUR } from 'src/constants';\nimport { Color } from 'three';\nvar TEX_DIR = 'static/images/surface/';\nexport var SUN = {\n    id: 'sun',\n    name: 'The Sun',\n    mass: 1.9891e30,\n    radius: 6.96342e5,\n    sideralDay: 25.6 * DAY,\n    k: 0.01720209895,\n    orbit: {\n        base: {\n            a: 0,\n            e: 0,\n            i: 0,\n            l: 0,\n            lp: 0,\n            o: 0\n        },\n        cy: {\n            a: 0,\n            e: 0,\n            i: 0,\n            l: 0,\n            lp: 0,\n            o: 0\n        }\n    },\n    material: {\n        emissive: new Color(0xdddd33),\n        color: '#ffff00',\n        map: TEX_DIR + \"sun.jpg\"\n    }\n};\nexport var MERCURY = {\n    id: 'mercury',\n    name: 'Mercury',\n    mass: 3.3022e23,\n    radius: 2439,\n    sideralDay: 58.646 * DAY,\n    orbit: {\n        base: {\n            a: 0.38709927 * AU,\n            e: 0.20563593,\n            i: 7.00497902,\n            l: 252.25032350,\n            lp: 77.45779628,\n            o: 48.33076593\n        },\n        cy: {\n            a: 0.00000037 * AU,\n            e: 0.00001906,\n            i: -0.00594749,\n            l: 149472.67411175,\n            lp: 0.16047689,\n            o: -0.12534081\n        }\n    },\n    material: {\n        color: '#588a7b',\n        map: TEX_DIR + \"mercury.jpg\"\n    }\n};\nexport var VENUS = {\n    id: 'venus',\n    name: 'Venus',\n    mass: 4.868e24,\n    radius: 6051,\n    tilt: 177.4,\n    sideralDay: 243.025 * DAY,\n    orbit: {\n        base: {\n            a: 0.72333566 * AU,\n            e: 0.00677672,\n            i: 3.39467605,\n            l: 181.97909950,\n            lp: 131.60246718,\n            o: 76.67984255\n        },\n        cy: {\n            a: 0.00000390 * AU,\n            e: -0.00004107,\n            i: -0.00078890,\n            l: 58517.81538729,\n            lp: 0.00268329,\n            o: -0.27769418\n        }\n    },\n    material: {\n        color: '#fda700',\n        map: TEX_DIR + \"venus.jpg\"\n    }\n};\nexport var EARTH = {\n    id: 'earth',\n    name: 'The Earth',\n    mass: 5.9736e24,\n    radius: 3443.9307 * NM_TO_KM,\n    tilt: 23 + (26 / 60) + (21 / 3600),\n    sideralDay: SIDERAL_DAY,\n    atmosphere: {\n        atmospherePressure: 101.325,\n        components: [{\n                id: 'N',\n                name: 'Nitrogen',\n                ratio: 78.08\n            }, {\n                id: 'O2',\n                name: 'Oxygen',\n                ratio: 20.95\n            }, {\n                id: 'Ar',\n                name: 'Argon',\n                ratio: 0.93\n            }, {\n                id: 'CO2',\n                name: 'Carbon Dioxide',\n                ratio: 0.038\n            }, {\n                id: 'etc',\n                name: 'Etc',\n                ratio: 0.002\n            }]\n    },\n    orbit: {\n        base: {\n            a: 1.00000261 * AU,\n            e: 0.01671123,\n            i: -0.00001531,\n            l: 100.46457166,\n            lp: 102.93768193,\n            o: 0.0\n        },\n        cy: {\n            a: 0.00000562 * AU,\n            e: -0.00004392,\n            i: -0.01294668,\n            l: 35999.37244981,\n            lp: 0.32327364,\n            o: 0.0\n        }\n    },\n    material: {\n        color: '#1f7cda',\n        map: TEX_DIR + \"earth.jpg\"\n    }\n};\nexport var MARS = {\n    id: 'mars',\n    name: 'Mars',\n    mass: 6.4185e23,\n    radius: 3376,\n    tilt: 25.19,\n    sideralDay: 1.025957 * DAY,\n    atmosphere: {\n        atmospherePressure: 0.636,\n        components: [{\n                id: 'CO2',\n                name: 'Carbon Dioxide',\n                ratio: 95.97\n            }, {\n                id: 'N',\n                name: 'Nitrogen',\n                ratio: 1.89\n            }, {\n                id: 'Ar',\n                name: 'Argon',\n                ratio: 1.93\n            }, {\n                id: 'O2',\n                name: 'Oxygen',\n                ratio: 0.146\n            }, {\n                id: 'etc',\n                name: 'etc',\n                ratio: 0.064\n            }]\n    },\n    orbit: {\n        base: {\n            a: 1.52371034 * AU,\n            e: 0.09339410,\n            i: 1.84969142,\n            l: -4.55343205,\n            lp: -23.94362959,\n            o: 49.55953891\n        },\n        cy: {\n            a: 0.00001847 * AU,\n            e: 0.00007882,\n            i: -0.00813131,\n            l: 19140.30268499,\n            lp: 0.44441088,\n            o: -0.29257343\n        }\n    },\n    material: {\n        color: '#ff3300',\n        map: TEX_DIR + \"mars.jpg\"\n    }\n};\nexport var JUPITER = {\n    id: 'jupiter',\n    name: 'Jupiter',\n    mass: 1.8986e27,\n    radius: 71492,\n    tilt: 3.13,\n    sideralDay: (10 * HOUR) - ((HOUR / 60) * 5),\n    orbit: {\n        base: {\n            a: 5.20288700 * AU,\n            e: 0.04838624,\n            i: 1.30439695,\n            l: 34.39644051,\n            lp: 14.72847983,\n            o: 100.47390909\n        },\n        cy: {\n            a: -0.00011607 * AU,\n            e: -0.00013253,\n            i: -0.00183714,\n            l: 3034.74612775,\n            lp: 0.21252668,\n            o: 0.20469106\n        }\n    },\n    material: {\n        color: '#ff9932',\n        map: TEX_DIR + \"jupiter.jpg\"\n    }\n};\nexport var SATURN = {\n    id: 'saturn',\n    name: 'Saturn',\n    mass: 5.6846e26,\n    radius: 58232,\n    tilt: 26.7,\n    sideralDay: (11 * HOUR) - ((HOUR / 60) * 10),\n    ring: {\n        innerRadius: 74500,\n        outerRadius: 117580,\n        map: TEX_DIR + \"saturn-ring.png\"\n    },\n    orbit: {\n        base: {\n            a: 9.53667594 * AU,\n            e: 0.05386179,\n            i: 2.48599187,\n            l: 49.95424423,\n            lp: 92.59887831,\n            o: 113.66242448\n        },\n        cy: {\n            a: -0.00125060 * AU,\n            e: -0.00050991,\n            i: 0.00193609,\n            l: 1222.49362201,\n            lp: -0.41897216,\n            o: -0.28867794\n        }\n    },\n    material: {\n        color: '#ffcc99',\n        map: TEX_DIR + \"saturn.jpg\"\n    }\n};\nexport var URANUS = {\n    id: 'uranus',\n    name: 'Uranus',\n    mass: 8.6810e25,\n    radius: 25559,\n    tilt: 97.77,\n    sideralDay: 17 * HOUR,\n    orbit: {\n        base: {\n            a: 19.18916464 * AU,\n            e: 0.04725744,\n            i: 0.77263783,\n            l: 313.23810451,\n            lp: 170.95427630,\n            o: 74.01692503\n        },\n        cy: {\n            a: -0.00196176 * AU,\n            e: -0.00004397,\n            i: -0.00242939,\n            l: 428.48202785,\n            lp: 0.40805281,\n            o: 0.04240589\n        }\n    },\n    material: {\n        color: '#99ccff',\n        map: TEX_DIR + \"uranus.jpg\"\n    }\n};\nexport var NEPTUNE = {\n    id: 'Neptune',\n    name: 'neptune',\n    mass: 1.0243e26,\n    radius: 24764,\n    tilt: 28.32,\n    sideralDay: 16 * HOUR,\n    orbit: {\n        base: {\n            a: 30.06992276 * AU,\n            e: 0.00859048,\n            i: 1.77004347,\n            l: -55.12002969,\n            lp: 44.96476227,\n            o: 131.78422574\n        },\n        cy: {\n            a: 0.00026291 * AU,\n            e: 0.00005105,\n            i: 0.00035372,\n            l: 218.45945325,\n            lp: -0.32241464,\n            o: -0.00508664\n        }\n    },\n    material: {\n        color: '#3299ff',\n        map: TEX_DIR + \"neptune.jpg\"\n    }\n};\nexport var PLUTO = {\n    id: 'pluto',\n    name: 'Pluto',\n    mass: 1.305e22 + 1.52e21,\n    radius: 1153,\n    // tilt: 119.61,\n    sideralDay: 6.38723 * DAY,\n    orbit: {\n        base: {\n            a: 39.48211675 * AU,\n            e: 0.24882730,\n            i: 17.14001206,\n            l: 238.92903833,\n            lp: 224.06891629,\n            o: 110.30393684\n        },\n        cy: {\n            a: -0.00031596 * AU,\n            e: 0.00005170,\n            i: 0.00004818,\n            l: 145.20780515,\n            lp: -0.04062942,\n            o: -0.01183482\n        }\n    },\n    material: {\n        color: '#aaaaaa',\n        map: TEX_DIR + \"pluto.jpg\"\n    }\n};\n","import { SUN, MERCURY, VENUS, EARTH, MARS, JUPITER, SATURN, URANUS, NEPTUNE, PLUTO } from 'src/constants/planets.constant';\nimport { DEFAULT_CALC_PER_TICK, MONTH_PER_SECOND } from 'src/constants';\n;\nexport var SolarSystem = {\n    id: 'solarSystemScene',\n    name: 'Solar System',\n    system: {\n        id: 'solarSystem',\n        name: 'Solar System',\n        type: 'starsystem',\n        star: SUN,\n        planets: [MERCURY, VENUS, EARTH, MARS, JUPITER, SATURN, URANUS, NEPTUNE, PLUTO]\n    },\n    startDate: new Date(),\n    secondsPerTick: MONTH_PER_SECOND,\n    calcPerTick: DEFAULT_CALC_PER_TICK\n};\n","import { SolarSystem } from 'src/constants/scenario.constant';\nimport { REALTIME, HOUR_PER_SECOND, DAY_PER_SECOND, MONTH_PER_SECOND, HALF_YEAR_PER_SECOND, YEAR_PER_SECOND } from 'src/constants';\nvar ViewerState = /** @class */ (function () {\n    function ViewerState() {\n        this.scenarios = [];\n        this.scenarios = [SolarSystem];\n        this.currentScenario = this.scenarios[0];\n        this.isPlaying = false;\n        this.currentDate = new Date();\n        this.currentCameraPosition = 'root';\n        this.timesets = [\n            { time: REALTIME, name: 'Real-time' },\n            { time: HOUR_PER_SECOND, name: 'Hour/s' },\n            { time: DAY_PER_SECOND, name: 'Day/s' },\n            { time: MONTH_PER_SECOND, name: 'Month/s' },\n            { time: HALF_YEAR_PER_SECOND, name: '6Months/s' },\n            { time: YEAR_PER_SECOND, name: 'Year/s' }\n        ];\n    }\n    return ViewerState;\n}());\nexport { ViewerState };\n","export default {};\n","export var SET_PLAYING = 'viewer/SET_PLAYING';\nexport var SET_CURRENT_DATE = 'viewer/SET_CURRENT_DATE';\nexport var SET_CURRENT_CAMERA_POSITION = 'viewer/SET_CURRENT_CAMERA_POSITION';\nexport var SET_CURRENT_SCENARIO_SECONDS_PER_TICK = 'viewer/SET_CURRENT_SCENARIO_SECONDS_PER_TICK';\nexport var GET_CURRENT_SCENARIO_SECONDS_PER_TICK = 'viewer/GET_CURRENT_SCENARIO_SECONDS_PER_TICK';\n","import { ViewerState } from './state';\nimport Actions from './actions';\nimport Getters from './getters';\nimport Mutations from './mutations';\nvar ViewerStoreModule = /** @class */ (function () {\n    function ViewerStoreModule() {\n        this.getters = Getters;\n        this.mutations = Mutations;\n        this.actions = Actions;\n        this.state = new ViewerState();\n    }\n    return ViewerStoreModule;\n}());\nexport { ViewerStoreModule };\n","import Vue from 'vue';\nimport Vuex from 'vuex';\n/* STORES START */\nimport { ViewerStoreModule } from './viewer/';\n/* STORES END */\nVue.use(Vuex);\nexport default new Vuex.Store({\n    modules: {\n        viewer: new ViewerStoreModule()\n    },\n});\n","/**\n * @name Loader.service\n * @author Evan Moon\n * @desc     \n */\nimport * as Q from 'q';\nimport VertexShader from 'src/shaders/atmosphere.vsh';\nimport FragmentShader from 'src/shaders/atmosphere.fsh';\nvar LoaderService = /** @class */ (function () {\n    function LoaderService() {\n        this.shaders = []; // raw shader resources\n    }\n    LoaderService.prototype.load = function () {\n        var defer = Q.defer();\n        this.shaders = [VertexShader, FragmentShader];\n        defer.resolve();\n        return defer.promise;\n    };\n    LoaderService.prototype.getShaders = function () {\n        return this.shaders;\n    };\n    LoaderService.prototype.getVertexShader = function () {\n        return this.shaders[0];\n    };\n    LoaderService.prototype.getFregmentShader = function () {\n        return this.shaders[1];\n    };\n    LoaderService.prototype.removeShaders = function () {\n        this.shaders = [];\n    };\n    return LoaderService;\n}());\nvar instance = new LoaderService();\nexport default instance;\n","export default \"varying vec3 vNormal;\\nvoid main() {\\n    vNormal = normalize( normalMatrix * normal );\\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\\n\"","export default \"uniform vec3 glowColor;\\nvarying vec3 vNormal;\\n\\nvoid main() {\\n\\tfloat intensity = pow( 0.5 - dot( vNormal, vec3( 0.0, 0.0, 1.0 ) ), 4.0 );\\n\\tvec3 glow = glowColor * intensity;\\n    gl_FragColor = vec4( glow, 1.0 );\\n}\\n\"","/**\n * @name Dimension.service\n * @author Evan Moon\n */\nvar DimensionService = /** @class */ (function () {\n    function DimensionService() {\n        this.scale = 1;\n    }\n    DimensionService.prototype.setLargestDimension = function (dim) {\n        this.scale = 1000 / dim;\n    };\n    DimensionService.prototype.getScaledVector = function (obj) {\n        return obj.multiplyScalar(this.scale);\n    };\n    DimensionService.prototype.getScaled = function (obj) {\n        return obj * this.scale;\n    };\n    return DimensionService;\n}());\nvar instance = new DimensionService();\nexport default instance;\n","/**\n * @class\n * @name Label\n * @author Evan Moon\n */\nimport * as $ from 'jquery';\nimport { Vector3 } from 'three';\nvar Label = /** @class */ (function () {\n    function Label(name, planetName) {\n        this.centerVector = new Vector3();\n        this.name = name + \"-label\";\n        this.planetName = planetName;\n        this.position = new Vector3();\n        this.elementString = \"<div class=\\\"planet-label\\\"><h3>\" + planetName + \"</h3></div>\";\n        this.elementDOM = $(this.elementString);\n        this.elementDOM.appendTo($('#renderer'));\n    }\n    Label.prototype.updatePosition = function (position, camera) {\n        this.position = position.clone();\n        this.position2d = this.get2DPosition(camera);\n        this.setElementPosition(this.position2d);\n    };\n    Label.prototype.setElementPosition = function (position2d) {\n        var style = {\n            transform: \"translate(\" + (position2d.x - 20) + \"px, \" + (position2d.y - 20) + \"px) scale(\" + position2d.z + \")\",\n            opacity: 1,\n        };\n        this.elementDOM.css(style);\n    };\n    Label.prototype.get2DPosition = function (camera) {\n        var position = this.position.clone();\n        var position2d = position.project(camera);\n        var w = window.innerWidth;\n        var h = window.innerHeight;\n        position2d.x = (position2d.x + 1) / 2 * w;\n        position2d.y = -(position2d.y - 1) / 2 * h;\n        if (position2d.z < 1 && position2d.x > 0 && position2d.x < w && position2d.y > 0 && position2d.y < h) {\n            var distance = camera.position.distanceTo(position);\n            var span = Math.atan(camera.fov / 2) * distance;\n            var factor = 1 / (1 + Math.log10(span));\n            position2d.z = 0.3 + factor;\n            return position2d;\n        }\n        else {\n            return this.centerVector;\n        }\n    };\n    return Label;\n}());\nexport { Label };\n","/**\n * @class\n * @name AstronomicalObject\n * @desc  \n */\nimport { Object3D, Color, TextureLoader, Geometry, LineBasicMaterial, Vector3, Line, MeshLambertMaterial, SphereBufferGeometry, Mesh } from 'three';\nimport { CIRCLE, KM } from 'src/constants';\nimport DimensionService from 'src/lib/services/Dimension.service';\nimport { Label } from 'src/lib/helpers/Label';\nvar AstronomicalObject = /** @class */ (function () {\n    function AstronomicalObject(data) {\n        this.id = data.id;\n        this.name = data.name;\n        this.mass = data.mass;\n        this.radius = data.radius;\n        this.renderedRadius = 0;\n        this.material = data.material;\n        this.sideralDay = data.sideralDay;\n        AstronomicalObject.bodyQuality.segment = 50;\n        AstronomicalObject.bodyQuality.rings = 50;\n        this.root = new Object3D();\n        this.root.name = this.id;\n        this.position = new Vector3();\n        this.compressedPos = new Vector3();\n        this.bodyId = this.id + \"-body\";\n        this.helperId = this.id + \"-axis-helper\";\n        this.ringId = this.id + \"-ring\";\n        this.labelManager = new Label(this.id, this.name);\n        this.createObjectBasicBody();\n    }\n    /**\n     * @method get3DBody\n     * @desc    Object3D  .\n     * @returns { Object3D }\n     */\n    AstronomicalObject.prototype.get3DBody = function () {\n        return this.root;\n    };\n    /**\n     * @method setShowHelper\n     * @desc      set\n     * @param { boolean } val\n     */\n    AstronomicalObject.prototype.setShowHelper = function (val) {\n        var helper = this.body.getObjectByName(this.helperId);\n        if (helper) {\n            helper.visible = val;\n        }\n        else {\n            console.error('There is no axis helper in this Astronomical Object');\n        }\n    };\n    /**\n     * @method getObjectCompressedSize\n     * @desc       .\n     * @returns { number }\n     */\n    AstronomicalObject.prototype.getObjectCompressedSize = function () {\n        var toKM = this.radius * KM;\n        return DimensionService.getScaled(toKM);\n    };\n    /**\n     * @method getObjectStageSize\n     * @desc      x .\n     * @returns { number }\n     */\n    AstronomicalObject.prototype.getObjectStageSize = function () {\n        return this.getObjectCompressedSize() * this.body.getObjectByName('mesh').scale.x;\n    };\n    /**\n     * @method moveRotating\n     * @desc       \n     * @param { Date } epochTime\n     */\n    AstronomicalObject.prototype.moveRotating = function (epochTime) {\n        this.body.getObjectByName('mesh').rotation.y = (epochTime.getTime() / this.sideralDay) * CIRCLE;\n    };\n    /**\n     * @method createObjectBasicBody\n     * @desc  3D  \n     */\n    AstronomicalObject.prototype.createObjectBasicBody = function () {\n        var mat = Object.assign({}, this.material);\n        var segment = AstronomicalObject.bodyQuality.segment;\n        var rings = AstronomicalObject.bodyQuality.rings;\n        this.renderedRadius = this.getObjectCompressedSize();\n        this.body = new Object3D();\n        if (mat.map) {\n            mat.map = new TextureLoader().load(mat.map);\n        }\n        var geometry = new SphereBufferGeometry(this.renderedRadius, segment, rings);\n        var material = new MeshLambertMaterial(mat);\n        material.color = new Color(0xffffff);\n        var mesh = new Mesh(geometry, material);\n        mesh.name = 'mesh';\n        this.body.add(mesh);\n        this.body.name = this.bodyId;\n        this.setHelper();\n    };\n    /**\n     * @method setHelper\n     * @desc    \n     */\n    AstronomicalObject.prototype.setHelper = function () {\n        var geometry = new Geometry();\n        var material = new LineBasicMaterial({\n            color: 0x00ff00\n        });\n        var centerPos = new Vector3();\n        var tailPos = new Vector3(0, this.getObjectCompressedSize() * 2, 0);\n        geometry.vertices.push(centerPos, tailPos);\n        var mesh = new Line(geometry, material);\n        mesh.name = this.helperId;\n        this.body.getObjectByName('mesh').add(mesh);\n    };\n    AstronomicalObject.bodyQuality = {\n        segment: 0,\n        rings: 0\n    };\n    return AstronomicalObject;\n}());\nexport { AstronomicalObject };\n","/**\n * @class\n * @name AtmoSphere\n * @desc   \n */\nvar AtmoSphere = /** @class */ (function () {\n    function AtmoSphere(components) {\n        this.components = [];\n        this.components = components;\n    }\n    AtmoSphere.prototype.getAllComponents = function () {\n        return this.components;\n    };\n    AtmoSphere.prototype.getComponentsById = function (id) {\n        var component = this.components.filter(function (v) { return v.id === id; });\n        return component[0];\n    };\n    AtmoSphere.prototype.getHighestRateComponent = function () { };\n    AtmoSphere.prototype.getLowestRateComponent = function () { };\n    return AtmoSphere;\n}());\nexport { AtmoSphere };\n","/**\n * @name Kepler.service\n * @author Evan Moon\n * @desc   \n */\nvar KeplerService = /** @class */ (function () {\n    function KeplerService() {\n    }\n    /**\n     * @name getEccentricity\n     * @desc   Eccentricity \n     *  maxIter   .\n     */\n    KeplerService.prototype.getEccentricity = function (nextStep, x1, maxIter) {\n        var x = 0;\n        for (var i = 0; i < maxIter; i++) {\n            x = x1;\n            x1 = nextStep(x);\n        }\n        return x1;\n    };\n    /**\n     * @name computeLaguerre\n     * @desc http://adsbit.harvard.edu//full/1986CeMec..39..199C/0000206.000.html\n     */\n    KeplerService.prototype.computeLaguerre = function (x, f, f1, f2) {\n        return x + (-5 * f / (f1 + Math.sign(f1) * Math.sqrt(Math.abs(16 * f1 * f1 - 20 * f * f2))));\n    };\n    /**\n     * @name computed\n     * @desc  0.0 < e < 0.9  \n     */\n    KeplerService.prototype.compute = function (e, M) {\n        return function (x) {\n            return x + (M + e * Math.sin(x) - x) / (1 - e * Math.cos(x));\n        };\n    };\n    /**\n     * @name computeWithLaguerre\n     * @desc  0.9 <= e < 1.0  \n     */\n    KeplerService.prototype.computeWithLaguerre = function (e, M) {\n        var _this = this;\n        return function (x) {\n            var sin = e * Math.sin(x);\n            var cos = e * Math.cos(x);\n            var f = x - sin - M;\n            var f1 = 1 - cos;\n            var f2 = sin;\n            return _this.computeLaguerre(x, f, f1, f2);\n        };\n    };\n    /**\n     * @name computeWithLaguerreHyp\n     * @desc  1   \n     */\n    KeplerService.prototype.computeWithLaguerreHyp = function (e, M) {\n        var _this = this;\n        return function (x) {\n            var sin = e * Math.sinh(x);\n            var cos = e * Math.cosh(x);\n            var f = x - sin - M;\n            var f1 = cos - 1;\n            var f2 = sin;\n            return _this.computeLaguerre(x, f, f1, f2);\n        };\n    };\n    return KeplerService;\n}());\nvar instance = new KeplerService();\nexport default instance;\n","/**\n * @name Orbit.manager\n * @author Evan Moon\n * @desc  Planet    \n */\nimport * as $ from 'jquery';\nimport { Vector3, Euler, Quaternion } from 'three';\nimport { CENTURY, DAY, KM, DEG_TO_RAD, CIRCLE } from 'src/constants';\nimport Kepler from 'src/lib/services/Kepler.service';\nvar OrbitManager = /** @class */ (function () {\n    function OrbitManager(orbitData) {\n        this.computedPosition = new Vector3();\n        this.defaultPosition = new Vector3();\n        this.euler1 = new Euler();\n        this.euler2 = new Euler();\n        this.quaternion1 = new Quaternion();\n        this.quaternion2 = new Quaternion();\n        this.multiplyQuaternion = new Quaternion();\n        this.orbitData = orbitData;\n    }\n    OrbitManager.prototype.setName = function (name) {\n        this.name = name;\n    };\n    OrbitManager.prototype.getPosFromElements = function (computed) {\n        if (!computed) {\n            return this.defaultPosition;\n        }\n        var a1 = this.euler1.set(computed.tilt || 0, 0, computed.o, 'XYZ');\n        var a2 = this.euler2.set(computed.i, 0, computed.w, 'XYZ');\n        var q1 = this.quaternion1.setFromEuler(a1);\n        var q2 = this.quaternion2.setFromEuler(a2);\n        var planeQuaternion = this.multiplyQuaternion.multiplyQuaternions(q1, q2);\n        computed.pos.applyQuaternion(planeQuaternion);\n        return computed.pos;\n    };\n    OrbitManager.prototype.calcElements = function (timeEpoch) {\n        if (!this.orbitData) {\n            throw new Error('There is no orbit data in this Orbit manager');\n        }\n        var orbitData = this.orbitData;\n        var tDays = timeEpoch.getTime() / DAY;\n        var tCentury = tDays / CENTURY;\n        var computed = {};\n        if (orbitData.base) {\n            var keys = Object.keys(orbitData.base);\n            var variation_1;\n            computed = keys.reduce(function (carry, el) {\n                // cy: variation by century\n                // day: variation by day\n                if (orbitData.cy) {\n                    variation_1 = orbitData.cy[el];\n                }\n                else if (orbitData.day) {\n                    variation_1 = (orbitData.day[el] * CENTURY);\n                }\n                else {\n                    variation_1 = 0;\n                }\n                carry[el] = orbitData.base[el] + (variation_1 * tCentury);\n                return carry;\n            }, computed);\n        }\n        else {\n            computed = $.extend({}, orbitData);\n        }\n        if (!computed.w) {\n            computed.w = computed.lp - computed.o;\n        }\n        if (!computed.M) {\n            computed.M = computed.l - computed.lp;\n        }\n        computed.a *= KM;\n        computed.i *= DEG_TO_RAD;\n        computed.o *= DEG_TO_RAD;\n        computed.w *= DEG_TO_RAD;\n        computed.M *= DEG_TO_RAD;\n        computed.E = this.getEccentricAnomaly(computed.e, computed.M);\n        computed.E %= CIRCLE;\n        computed.i %= CIRCLE;\n        computed.o %= CIRCLE;\n        computed.w %= CIRCLE;\n        computed.M %= CIRCLE;\n        this.computedPosition.set(computed.a * (Math.cos(computed.E) - computed.e), computed.a * (Math.sqrt(1 - (Math.pow(computed.e, 2)))) * Math.sin(computed.E), 0);\n        computed.pos = this.computedPosition;\n        computed.r = computed.pos.length();\n        computed.v = Math.atan2(computed.pos.y, computed.pos.x);\n        return computed;\n    };\n    OrbitManager.prototype.calcPosition = function (timeEpoch) {\n        if (!this.orbitData) {\n            return new Vector3();\n        }\n        var computed = this.calcElements(timeEpoch);\n        return this.getPosFromElements(computed);\n    };\n    OrbitManager.prototype.getEccentricAnomaly = function (e, M) {\n        /**\n         * @desc If 0.0 >= e, it is not ellipse\n         */\n        if (0.0 >= e) {\n            return M;\n        }\n        /**\n         * @desc 0.0 < e < 0.9\n         *  ,  maxIter = 6\n         */\n        else if (0.0 < e && e < 0.9) {\n            return Kepler.getEccentricity(Kepler.compute(e, M), M, 6);\n        }\n        /**\n         * @desc 0.9 <= e < 1.0\n         *  Circle   ,  maxIter = 8\n         */\n        else if (0.9 <= e && e < 1.0) {\n            var E = M + 0.85 * e * (Math.sign(Math.sin(M)));\n            return Kepler.getEccentricity(Kepler.computeWithLaguerre(e, M), E, 8);\n        }\n        /**\n         * @desc 1.0 <= e\n         *   \n         */\n        else if (1.0 <= e) {\n            return M;\n        }\n    };\n    return OrbitManager;\n}());\nexport { OrbitManager };\n","var ColorService = /** @class */ (function () {\n    function ColorService() {\n    }\n    ColorService.prototype.hexToRgb = function (hex) {\n        var regex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n        var outputArr = regex.exec(hex);\n        if (!outputArr || !outputArr.length) {\n            throw new Error(hex + \" is not hex color format!\");\n        }\n        var output = {\n            r: parseInt(outputArr[1], 16),\n            g: parseInt(outputArr[2], 16),\n            b: parseInt(outputArr[3], 16)\n        };\n        return output;\n    };\n    ColorService.prototype.rgbToHex = function (color) {\n        return ((color.r << 16) + (color.g << 8) + color.b).toString();\n    };\n    ColorService.prototype.darken = function (color, factor) {\n        var output = Object.assign({}, color);\n        var parsedFactor = 1 - factor;\n        Object.keys(color).forEach(function (color) { return output[color] *= parsedFactor; });\n        return output;\n    };\n    return ColorService;\n}());\nvar instance = new ColorService();\nexport default instance;\n","/**\n * @class\n * @name Tracer\n * @author Evan Moon\n */\nimport { LineBasicMaterial, Line, BufferGeometry, BufferAttribute, VertexColors } from 'three';\nimport ColorService from 'src/lib/services/Color.service';\nvar Tracer = /** @class */ (function () {\n    function Tracer(name, color, maxLength) {\n        this.vertices = [];\n        this.name = name + \"-trace\";\n        this.color = color;\n        this.maxLength = maxLength;\n        this.createTrace();\n    }\n    Tracer.prototype.getTracer = function () {\n        if (!this.trace)\n            throw new Error(\"You must create \" + this.name + \" Trace first :: getTracer\");\n        return this.trace;\n    };\n    Tracer.prototype.updateTrace = function (vertex) {\n        var _this = this;\n        if (!this.trace)\n            throw new Error(\"There is no trace in \" + this.name + \"! :: updateTrace\");\n        this.vertices.push(vertex.clone());\n        if (this.vertices.length > this.maxLength) {\n            this.vertices.shift();\n        }\n        var attrArrLength = (this.vertices.length * 3);\n        var positionArr = new Float32Array(attrArrLength);\n        var colorArr = new Float32Array(attrArrLength);\n        var colorRGB = ColorService.hexToRgb(this.color);\n        this.vertices.forEach(function (vertex, index) {\n            index *= 3;\n            positionArr[index] = vertex.x;\n            positionArr[index + 1] = vertex.y;\n            positionArr[index + 2] = vertex.z;\n            var factor = 1 - (index / _this.vertices.length);\n            var computedColor = ColorService.darken(colorRGB, factor);\n            colorArr[index] = computedColor.r / 255;\n            colorArr[index + 1] = computedColor.g / 255;\n            colorArr[index + 2] = computedColor.b / 255;\n        });\n        var positionAttr = new BufferAttribute(positionArr, 3);\n        var colorAttr = new BufferAttribute(colorArr, 3);\n        this.geometry.addAttribute('position', positionAttr);\n        this.geometry.addAttribute('color', colorAttr);\n        this.geometry.attributes['position'].needsUpdate = true;\n    };\n    Tracer.prototype.createTrace = function () {\n        var geometry = new BufferGeometry();\n        geometry.addAttribute('position', new BufferAttribute(new Float32Array(0), 3));\n        geometry.addAttribute('color', new BufferAttribute(new Float32Array(0), 3));\n        var material = new LineBasicMaterial({\n            vertexColors: VertexColors\n        });\n        var mesh = new Line(geometry, material);\n        this.geometry = geometry;\n        this.trace = mesh;\n        this.trace.name = this.name;\n    };\n    return Tracer;\n}());\nexport { Tracer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @class\n * @extends AstronomicalObject\n * @name Planet\n * @desc  \n */\nimport { Vector3, MeshLambertMaterial, RingGeometry, Mesh, TextureLoader, DoubleSide } from 'three';\nimport { QUARTER_CIRCLE, DEG_TO_RAD } from 'src/constants';\nimport { AstronomicalObject } from 'src/lib/astronomical/AstronomicalObject';\nimport { AtmoSphere } from 'src/lib/astronomical/AtmoSphere';\nimport { OrbitManager } from 'src/lib/managers/Orbit.manager';\nimport { Tracer } from 'src/lib/helpers/Tracer';\nimport DimensionService from 'src/lib/services/Dimension.service';\nvar Planet = /** @class */ (function (_super) {\n    __extends(Planet, _super);\n    function Planet(data) {\n        var _this = this;\n        var astronomical = {\n            id: data.id,\n            name: data.name,\n            mass: data.mass,\n            radius: data.radius,\n            material: data.material,\n            sideralDay: data.sideralDay,\n        };\n        if (data.sideralDay) {\n            astronomical.sideralDay = data.sideralDay;\n        }\n        _this = _super.call(this, astronomical) || this;\n        _this.orbitManager = new OrbitManager(data.orbit);\n        _this.angle = 0;\n        _this.force = new Vector3();\n        _this.movement = new Vector3();\n        _this.prevPosition = new Vector3();\n        _this.relPosition = new Vector3();\n        _this.absVelocity = new Vector3();\n        _this.relVelocity = new Vector3();\n        var factor = 1.6;\n        var orbitTraceLength = factor + Math.PI * DimensionService.getScaled(data.orbit.base.a);\n        _this.traceManager = new Tracer(data.id, data.material.color, Math.pow(orbitTraceLength, 10));\n        _this.hasTrace = false;\n        if (data.atmosphere) {\n            _this.atmospherePressure = data.atmosphere.atmospherePressure;\n            _this.atmosphere = new AtmoSphere(data.atmosphere.components);\n        }\n        if (data.ring) {\n            _this.ring = data.ring;\n        }\n        if (data.tilt) {\n            _this.tilt = data.tilt;\n        }\n        _this.setPlanetBody();\n        return _this;\n    }\n    Planet.prototype.setPlanetBody = function () {\n        if (this.ring) {\n            var innerSize = DimensionService.getScaled(this.ring.innerRadius);\n            var outerSize = DimensionService.getScaled(this.ring.innerRadius);\n            var segments = 20;\n            var material = new MeshLambertMaterial({\n                map: new TextureLoader().load(this.ring.map),\n                transparent: true,\n                side: DoubleSide\n            });\n            var geometry = new RingGeometry(outerSize, innerSize, segments);\n            var mesh = new Mesh(geometry, material);\n            mesh.rotation.x = -1 * QUARTER_CIRCLE;\n            mesh.name = this.ringId;\n            this.body.add(mesh);\n        }\n        var tilt = QUARTER_CIRCLE;\n        if (this.tilt) {\n            tilt -= (this.tilt * DEG_TO_RAD);\n        }\n        this.body.getObjectByName('mesh').rotation.x = tilt;\n        this.root.add(this.body);\n        this.root.add(this.traceManager.getTracer());\n    };\n    Planet.prototype.getPlanetRoot = function () {\n        return this.root;\n    };\n    Planet.prototype.getPlanetBody = function () {\n        return this.body;\n    };\n    Planet.prototype.setPositionByDate = function (date) {\n        this.prevPosition = this.position.clone();\n        this.position = this.orbitManager.calcPosition(date);\n        this.compressedPos = this.getPosition();\n        this.relPosition = this.position.clone();\n        var x = this.compressedPos.x;\n        var y = this.compressedPos.y;\n        var z = this.compressedPos.z;\n        this.body.position.set(x, y, z);\n        if (this.hasTrace) {\n            this.traceManager.updateTrace(this.body.position);\n        }\n    };\n    Planet.prototype.getPosition = function () {\n        var currentPosition = this.position.clone();\n        return DimensionService.getScaledVector(currentPosition);\n    };\n    Planet.prototype.getScreenSizeRatio = function (camPos, fov) {\n        var size = this.getObjectStageSize();\n        var distance = this.getPosition().sub(camPos).length();\n        var height = 2 * Math.tan((fov * DEG_TO_RAD) / 2) * distance;\n        return size / height;\n    };\n    Planet.prototype.reset = function () {\n        this.angle = 0;\n        this.force = new Vector3();\n        this.movement = new Vector3();\n        this.prevPosition = new Vector3();\n    };\n    return Planet;\n}(AstronomicalObject));\nexport { Planet };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @class\n * @extends AstronomicalObject\n * @name Star\n * @desc  \n */\nimport { DEG_TO_RAD } from 'src/constants';\nimport { TextureLoader, Color, LensFlare, AdditiveBlending, PointLight, Vector3 } from 'three';\nimport { Planet } from 'src/lib/astronomical/Planet';\nvar Star = /** @class */ (function (_super) {\n    __extends(Star, _super);\n    function Star(data) {\n        var _this = this;\n        var astronomical = {\n            id: data.id,\n            name: data.name,\n            mass: data.mass,\n            radius: data.radius,\n            material: data.material,\n            sideralDay: data.sideralDay,\n            orbit: data.orbit,\n        };\n        _this = _super.call(this, astronomical) || this;\n        _this.flareSize = 500;\n        _this.flareMapResource = 'static/images/effect/lensflare.png';\n        _this.setStarBody();\n        _this.setFlare();\n        _this.setLight();\n        return _this;\n    }\n    Star.prototype.setFlareSize = function (sizeRatio, screenHeight) {\n        var delta = 30;\n        this.flareSize = sizeRatio * screenHeight * delta;\n    };\n    Star.prototype.setFlarePosition = function (pos) {\n        this.lensFlare.position.copy(pos);\n    };\n    Star.prototype.getScreenSizeRatio = function (camPos, fov) {\n        var size = this.getObjectStageSize();\n        var distance = new Vector3().sub(camPos).length();\n        var height = 2 * Math.tan((fov * DEG_TO_RAD) / 2) * distance;\n        return size / height;\n    };\n    Star.prototype.setStarBody = function () {\n        this.root.add(this.body);\n    };\n    Star.prototype.setFlare = function () {\n        var _this = this;\n        this.flareMap = new TextureLoader().load(this.flareMapResource);\n        var flareColor = new Color(0xffffff);\n        var flareSize = this.flareSize;\n        flareColor.setHSL(0.57, 0.80, 0.97); // #fce8e8\n        this.lensFlare = new LensFlare(this.flareMap, flareSize, 0.0, AdditiveBlending, flareColor);\n        this.lensFlare.customUpdateCallback = function (lensFlare) {\n            var len = lensFlare.lensFlares.length;\n            var vectorX = -lensFlare.positionScreen.x * 2;\n            var vectorY = -lensFlare.positionScreen.y * 2;\n            var f = 0;\n            var flare;\n            for (f; f < len; f++) {\n                flare = lensFlare.lensFlares[f];\n                flare.x = lensFlare.positionScreen.x + vectorX * flare.distance;\n                flare.y = lensFlare.positionScreen.y + vectorY * flare.distance;\n                flare.size = _this.flareSize;\n                flare.wantedRotation = flare.x * Math.PI * 0.5;\n                flare.rotation += (flare.wantedRotation - flare.rotation) * 0.5;\n            }\n        };\n        this.root.add(this.lensFlare);\n    };\n    Star.prototype.setLight = function () {\n        var color = 0xffffff;\n        var light = new PointLight(color);\n        this.root.add(light);\n    };\n    return Star;\n}(Planet));\nexport { Star };\n","/**\n * @class\n * @name System\n * @desc  ''  \n */\nimport { Object3D } from 'three';\nvar System = /** @class */ (function () {\n    function System(id, name, type) {\n        this.id = id;\n        this.name = name;\n        this.type = type;\n        this.root = new Object3D();\n    }\n    return System;\n}());\nexport { System };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Star } from 'src/lib/astronomical/Star';\nimport { Planet } from 'src/lib/astronomical/Planet';\nimport { System } from 'src/lib/systems/System';\nvar StarSystem = /** @class */ (function (_super) {\n    __extends(StarSystem, _super);\n    function StarSystem(data) {\n        var _this = _super.call(this, data.id, data.name, data.type) || this;\n        _this.planets = [];\n        _this.star = new Star(data.star);\n        data.planets.forEach(function (planetData) { return _this.planets.push(new Planet(planetData)); });\n        return _this;\n    }\n    StarSystem.prototype.getCenter = function () {\n        return this.star;\n    };\n    StarSystem.prototype.getCenterBody = function () {\n        return this.star.get3DBody();\n    };\n    StarSystem.prototype.getPlanets = function () {\n        return this.planets;\n    };\n    StarSystem.prototype.getPlanetById = function (id) {\n        return this.planets.filter(function (planet) { return planet.id === id; })[0];\n    };\n    StarSystem.prototype.getPlanetByName = function (name) {\n        return this.planets.filter(function (planet) { return planet.name === name; })[0];\n    };\n    StarSystem.prototype.getPlanetBodies = function () {\n        var arr = [];\n        this.planets.forEach(function (planet) { return arr.push(planet.get3DBody()); });\n        return arr;\n    };\n    StarSystem.prototype.setPlanetsPosition = function () {\n        var date = new Date(); //       \n        this.planets.forEach(function (planet) { return planet.setPositionByDate(date); });\n    };\n    return StarSystem;\n}(System));\nexport { StarSystem };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Planet } from 'src/lib/astronomical/Planet';\nimport { System } from 'src/lib/systems/System';\nvar PlanetSystem = /** @class */ (function (_super) {\n    __extends(PlanetSystem, _super);\n    function PlanetSystem(data) {\n        var _this = _super.call(this, data.id, data.name, data.type) || this;\n        _this.moons = [];\n        _this.centralPlanet = new Planet(data.centralPlanet);\n        data.moons.forEach(function (moonData) { return _this.moons.push(new Planet(moonData)); });\n        return _this;\n    }\n    PlanetSystem.prototype.getCenter = function () {\n        return this.centralPlanet;\n    };\n    PlanetSystem.prototype.getCenterBody = function () {\n        return this.centralPlanet.get3DBody();\n    };\n    PlanetSystem.prototype.getMoons = function () {\n        return this.moons;\n    };\n    PlanetSystem.prototype.getMoonById = function (id) {\n        return this.moons.filter(function (moon) { return moon.id === id; })[0];\n    };\n    PlanetSystem.prototype.getMoonByName = function (name) {\n        return this.moons.filter(function (moon) { return moon.name === name; })[0];\n    };\n    PlanetSystem.prototype.getMoonBodies = function () {\n        var arr = [];\n        this.moons.forEach(function (moon) { return arr.push(moon.get3DBody()); });\n        return arr;\n    };\n    PlanetSystem.prototype.setMoonsPosition = function () {\n        var date = new Date(); //       \n        this.moons.forEach(function (moon) { return moon.setPositionByDate(date); });\n    };\n    return PlanetSystem;\n}(System));\nexport { PlanetSystem };\n","import { StarSystem } from 'src/lib/systems/StarSystem';\nimport { PlanetSystem } from 'src/lib/systems/PlanetSystem';\nvar Scenario = /** @class */ (function () {\n    function Scenario(data) {\n        this.id = data.id;\n        this.name = data.name;\n        this.systemType = data.system.type;\n        this.startDate = data.startDate;\n        this.secondsPerTick = data.secondsPerTick;\n        this.calcPerTick = data.calcPerTick;\n        this.setSystem(data.system);\n    }\n    Scenario.prototype.getStartDate = function () {\n        return this.startDate;\n    };\n    Scenario.prototype.getSecondsPerTick = function () {\n        return this.secondsPerTick;\n    };\n    Scenario.prototype.getCalcPerTick = function () {\n        return this.calcPerTick;\n    };\n    Scenario.prototype.getBodies = function () {\n        if (!this.system) {\n            throw new Error('There is no system in this Scenario! : Scenario::getBodies');\n        }\n        if (this.system.type === 'starsystem') {\n            var system = this.system;\n            var bodies = {\n                center: system.getCenterBody(),\n                others: system.getPlanetBodies(),\n                type: system.type\n            };\n            return bodies;\n        }\n        else if (this.system.type === 'planetsystem') {\n            var system = this.system;\n            var bodies = {\n                center: system.getCenterBody(),\n                others: system.getMoonBodies(),\n                type: system.type\n            };\n            return bodies;\n        }\n        else {\n            throw new Error('invalid system type: Scenario::getBodies');\n        }\n    };\n    Scenario.prototype.getAstronomicalObjects = function () {\n        if (!this.system) {\n            throw new Error('There is no system in this Scenario! : Scenario::getBodies');\n        }\n        var system = this.system;\n        if (this.system.type === 'starsystem') {\n            system = system;\n            var objects = {\n                center: system.getCenter(),\n                others: system.getPlanets(),\n                type: system.type\n            };\n            return objects;\n        }\n        else if (this.system.type === 'planetsystem') {\n            system = system;\n            var objects = {\n                center: system.getCenter(),\n                others: system.getMoons(),\n                type: system.type\n            };\n            return objects;\n        }\n        else {\n            throw new Error('invalid system type: Scenario::getAstronomicalObjects');\n        }\n    };\n    Scenario.prototype.setSystem = function (system) {\n        if (system.type === 'starsystem') {\n            this.system = new StarSystem(system);\n            this.system.setPlanetsPosition();\n        }\n        else if (system.type === 'planetsystem') {\n            this.system = new PlanetSystem(system);\n            this.system.setMoonsPosition();\n        }\n        else {\n            throw new Error('Please check your scenario type: Scenario Class');\n        }\n    };\n    return Scenario;\n}());\nexport { Scenario };\n","/**\n * @name Camera.manager\n * @author Evan Moon\n * @desc    \n */\nimport { DEG_TO_RAD } from 'src/constants';\nimport { Vector3, PerspectiveCamera } from 'three';\nvar DEFAULT_CONFIG = {\n    fov: 45,\n    maxfov: 90,\n    near: 0.001,\n    lootAt: new Vector3(),\n};\nvar CameraManager = /** @class */ (function () {\n    function CameraManager(scene, stageSize, aspect, fov, near) {\n        if (fov === void 0) { fov = DEFAULT_CONFIG.fov; }\n        if (near === void 0) { near = DEFAULT_CONFIG.near; }\n        this.allCams = [];\n        this.defaultVector = new Vector3();\n        this.scene = scene;\n        this.cameraConfig = { fov: fov, aspect: aspect, near: near, far: stageSize * 100 };\n        this.stageSize = stageSize;\n        this.allCams = [];\n    }\n    CameraManager.prototype.init = function () {\n        this.globalCamera = this.createCamera('mainCam');\n        this.globalCamera.position.set(0, -1, this.getDistanceFromFov(this.stageSize, this.globalCamera.fov));\n        this.globalCamera.lookAt(this.defaultVector);\n        this.scene.add(this.globalCamera);\n    };\n    CameraManager.prototype.createCamera = function (name) {\n        var _a = this.cameraConfig, fov = _a.fov, aspect = _a.aspect, near = _a.near, far = _a.far;\n        var camera = new PerspectiveCamera(fov, aspect, near, far);\n        camera.name = name;\n        camera.up = new Vector3(0, 0, 1);\n        this.allCams.push(camera);\n        this.currentCamera = camera;\n        return camera;\n    };\n    CameraManager.prototype.getCurrentCamera = function () {\n        return this.currentCamera;\n    };\n    CameraManager.prototype.setCameraPosition = function (scenario, currentCameraPosition, planetId) {\n        var cam = this.currentCamera;\n        if (currentCameraPosition === 'root') {\n            this.scene.remove(cam);\n        }\n        else {\n            this.scene.getObjectByName(currentCameraPosition).remove(cam);\n        }\n        if (planetId === 'root') {\n            this.scene.add(cam);\n            this.initCurrentCameraPosition();\n        }\n        else {\n            var system = scenario.system;\n            var target = void 0;\n            if (system.type === 'starsystem') {\n                system = system;\n                target = system.getPlanetById(planetId);\n            }\n            else if (scenario) {\n                system = system;\n                target = system.getMoonById(planetId);\n            }\n            else\n                throw new Error(\"There is no \" + system.type + \" in system types\");\n            var r = target.renderedRadius * 10;\n            target.getPlanetBody().add(cam);\n            cam.position.set(r, r, r);\n        }\n    };\n    CameraManager.prototype.initCurrentCameraPosition = function () {\n        this.currentCamera.position.set(0, this.stageSize / 2, this.stageSize / 2);\n    };\n    CameraManager.prototype.getAbsolutePosition = function () {\n        var parent = this.currentCamera.parent;\n        return parent.localToWorld(this.currentCamera.position.clone());\n    };\n    CameraManager.prototype.getConfig = function () {\n        return this.cameraConfig;\n    };\n    CameraManager.prototype.getDistanceFromFov = function (dimToSee, fov) {\n        return dimToSee * Math.atan(fov * 2 * DEG_TO_RAD);\n    };\n    return CameraManager;\n}());\nexport default CameraManager;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as THREE from 'three';\nvar STATE = {\n    NONE: -1,\n    ROTATE: 0,\n    DOLLY: 1,\n    PAN: 2,\n    TOUCH_ROTATE: 3,\n    TOUCH_DOLLY: 4,\n    TOUCH_PAN: 5\n};\nvar CHANGE_EVENT = { type: 'change' };\nvar START_EVENT = { type: 'start' };\nvar END_EVENT = { type: 'end' };\nvar EPS = 0.000001;\n/**\n* @author qiao / https://github.com/qiao\n* @author mrdoob / http://mrdoob.com\n* @author alteredq / http://alteredqualia.com/\n* @author WestLangley / http://github.com/WestLangley\n* @author erich666 / http://erichaines.com\n* @author nicolaspanel / http://github.com/nicolaspanel\n*\n* This set of controls performs orbiting, dollying (zooming), and panning.\n* Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n*    Orbit - left mouse / touch: one finger move\n*    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n*    Pan - right mouse, or arrow keys / touch: three finger swipe\n*/\nvar OrbitControls = /** @class */ (function (_super) {\n    __extends(OrbitControls, _super);\n    function OrbitControls(object, domElement, domWindow) {\n        var _this = _super.call(this) || this;\n        _this.object = object;\n        _this.domElement = (domElement !== undefined) ? domElement : document;\n        _this.window = (domWindow !== undefined) ? domWindow : window;\n        // Set to false to disable this control\n        _this.enabled = true;\n        // \"target\" sets the location of focus, where the object orbits around\n        _this.target = new THREE.Vector3();\n        // How far you can dolly in and out ( PerspectiveCamera only )\n        _this.minDistance = 0;\n        _this.maxDistance = Infinity;\n        // How far you can zoom in and out ( OrthographicCamera only )\n        _this.minZoom = 0;\n        _this.maxZoom = Infinity;\n        // How far you can orbit vertically, upper and lower limits.\n        // Range is 0 to Math.PI radians.\n        _this.minPolarAngle = 0; // radians\n        _this.maxPolarAngle = Math.PI; // radians\n        // How far you can orbit horizontally, upper and lower limits.\n        // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n        _this.minAzimuthAngle = -Infinity; // radians\n        _this.maxAzimuthAngle = Infinity; // radians\n        // Set to true to enable damping (inertia)\n        // If damping is enabled, you must call controls.update() in your animation loop\n        _this.enableDamping = false;\n        _this.dampingFactor = 0.25;\n        // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n        // Set to false to disable zooming\n        _this.enableZoom = true;\n        _this.zoomSpeed = 1.0;\n        // Set to false to disable rotating\n        _this.enableRotate = true;\n        _this.rotateSpeed = 1.0;\n        // Set to false to disable panning\n        _this.enablePan = true;\n        _this.keyPanSpeed = 7.0; // pixels moved per arrow key push\n        // Set to true to automatically rotate around the target\n        // If auto-rotate is enabled, you must call controls.update() in your animation loop\n        _this.autoRotate = false;\n        _this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n        // Set to false to disable use of the keys\n        _this.enableKeys = true;\n        // The four arrow keys\n        _this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n        // Mouse buttons\n        _this.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n        // for reset\n        _this.target0 = _this.target.clone();\n        _this.position0 = _this.object.position.clone();\n        _this.zoom0 = _this.object.zoom;\n        // for update speedup\n        _this.updateOffset = new THREE.Vector3();\n        // so camera.up is the orbit axis\n        _this.updateQuat = new THREE.Quaternion().setFromUnitVectors(object.up, new THREE.Vector3(0, 1, 0));\n        _this.updateQuatInverse = _this.updateQuat.clone().inverse();\n        _this.updateLastPosition = new THREE.Vector3();\n        _this.updateLastQuaternion = new THREE.Quaternion();\n        _this.state = STATE.NONE;\n        _this.scale = 1;\n        // current position in spherical coordinates\n        _this.spherical = new THREE.Spherical();\n        _this.sphericalDelta = new THREE.Spherical();\n        _this.panOffset = new THREE.Vector3();\n        _this.zoomChanged = false;\n        _this.rotateStart = new THREE.Vector2();\n        _this.rotateEnd = new THREE.Vector2();\n        _this.rotateDelta = new THREE.Vector2();\n        _this.panStart = new THREE.Vector2();\n        _this.panEnd = new THREE.Vector2();\n        _this.panDelta = new THREE.Vector2();\n        _this.dollyStart = new THREE.Vector2();\n        _this.dollyEnd = new THREE.Vector2();\n        _this.dollyDelta = new THREE.Vector2();\n        _this.panLeftV = new THREE.Vector3();\n        _this.panUpV = new THREE.Vector3();\n        _this.panInternalOffset = new THREE.Vector3();\n        // event handlers - FSM: listen for events and reset state\n        _this.onMouseDown = function (event) {\n            if (_this.enabled === false)\n                return;\n            event.preventDefault();\n            if (event.button === _this.mouseButtons.ORBIT) {\n                if (_this.enableRotate === false)\n                    return;\n                _this.rotateStart.set(event.clientX, event.clientY);\n                _this.state = STATE.ROTATE;\n            }\n            else if (event.button === _this.mouseButtons.ZOOM) {\n                if (_this.enableZoom === false)\n                    return;\n                _this.dollyStart.set(event.clientX, event.clientY);\n                _this.state = STATE.DOLLY;\n            }\n            else if (event.button === _this.mouseButtons.PAN) {\n                if (_this.enablePan === false)\n                    return;\n                _this.panStart.set(event.clientX, event.clientY);\n                _this.state = STATE.PAN;\n            }\n            if (_this.state !== STATE.NONE) {\n                document.addEventListener('mousemove', _this.onMouseMove, false);\n                document.addEventListener('mouseup', _this.onMouseUp, false);\n                _this.dispatchEvent(START_EVENT);\n            }\n        };\n        _this.onMouseMove = function (event) {\n            if (_this.enabled === false)\n                return;\n            event.preventDefault();\n            if (_this.state === STATE.ROTATE) {\n                if (_this.enableRotate === false)\n                    return;\n                _this.rotateEnd.set(event.clientX, event.clientY);\n                _this.rotateDelta.subVectors(_this.rotateEnd, _this.rotateStart);\n                var element = _this.domElement === document ? _this.domElement.body : _this.domElement;\n                // rotating across whole screen goes 360 degrees around\n                _this.rotateLeft(2 * Math.PI * _this.rotateDelta.x / element.clientWidth * _this.rotateSpeed);\n                // rotating up and down along whole screen attempts to go 360, but limited to 180\n                _this.rotateUp(2 * Math.PI * _this.rotateDelta.y / element.clientHeight * _this.rotateSpeed);\n                _this.rotateStart.copy(_this.rotateEnd);\n                _this.update();\n            }\n            else if (_this.state === STATE.DOLLY) {\n                if (_this.enableZoom === false)\n                    return;\n                _this.dollyEnd.set(event.clientX, event.clientY);\n                _this.dollyDelta.subVectors(_this.dollyEnd, _this.dollyStart);\n                if (_this.dollyDelta.y > 0) {\n                    _this.dollyIn(_this.getZoomScale());\n                }\n                else if (_this.dollyDelta.y < 0) {\n                    _this.dollyOut(_this.getZoomScale());\n                }\n                _this.dollyStart.copy(_this.dollyEnd);\n                _this.update();\n            }\n            else if (_this.state === STATE.PAN) {\n                if (_this.enablePan === false)\n                    return;\n                _this.panEnd.set(event.clientX, event.clientY);\n                _this.panDelta.subVectors(_this.panEnd, _this.panStart);\n                _this.pan(_this.panDelta.x, _this.panDelta.y);\n                _this.panStart.copy(_this.panEnd);\n                _this.update();\n            }\n        };\n        _this.onMouseUp = function (event) {\n            if (_this.enabled === false)\n                return;\n            document.removeEventListener('mousemove', _this.onMouseMove, false);\n            document.removeEventListener('mouseup', _this.onMouseUp, false);\n            _this.dispatchEvent(END_EVENT);\n            _this.state = STATE.NONE;\n        };\n        _this.onMouseWheel = function (event) {\n            if (_this.enabled === false || _this.enableZoom === false || (_this.state !== STATE.NONE && _this.state !== STATE.ROTATE))\n                return;\n            event.preventDefault();\n            event.stopPropagation();\n            if (event.deltaY < 0) {\n                _this.dollyOut(_this.getZoomScale());\n            }\n            else if (event.deltaY > 0) {\n                _this.dollyIn(_this.getZoomScale());\n            }\n            _this.update();\n            _this.dispatchEvent(START_EVENT); // not sure why these are here...\n            _this.dispatchEvent(END_EVENT);\n        };\n        _this.onKeyDown = function (event) {\n            if (_this.enabled === false || _this.enableKeys === false || _this.enablePan === false)\n                return;\n            switch (event.keyCode) {\n                case _this.keys.UP:\n                    {\n                        _this.pan(0, _this.keyPanSpeed);\n                        _this.update();\n                    }\n                    break;\n                case _this.keys.BOTTOM:\n                    {\n                        _this.pan(0, -_this.keyPanSpeed);\n                        _this.update();\n                    }\n                    break;\n                case _this.keys.LEFT:\n                    {\n                        _this.pan(_this.keyPanSpeed, 0);\n                        _this.update();\n                    }\n                    break;\n                case _this.keys.RIGHT:\n                    {\n                        _this.pan(-_this.keyPanSpeed, 0);\n                        _this.update();\n                    }\n                    break;\n            }\n        };\n        _this.onTouchStart = function (event) {\n            if (_this.enabled === false)\n                return;\n            switch (event.touches.length) {\n                // one-fingered touch: rotate\n                case 1:\n                    {\n                        if (_this.enableRotate === false)\n                            return;\n                        _this.rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n                        _this.state = STATE.TOUCH_ROTATE;\n                    }\n                    break;\n                // two-fingered touch: dolly\n                case 2:\n                    {\n                        if (_this.enableZoom === false)\n                            return;\n                        var dx = event.touches[0].pageX - event.touches[1].pageX;\n                        var dy = event.touches[0].pageY - event.touches[1].pageY;\n                        var distance = Math.sqrt(dx * dx + dy * dy);\n                        _this.dollyStart.set(0, distance);\n                        _this.state = STATE.TOUCH_DOLLY;\n                    }\n                    break;\n                // three-fingered touch: pan\n                case 3:\n                    {\n                        if (_this.enablePan === false)\n                            return;\n                        _this.panStart.set(event.touches[0].pageX, event.touches[0].pageY);\n                        _this.state = STATE.TOUCH_PAN;\n                    }\n                    break;\n                default: {\n                    _this.state = STATE.NONE;\n                }\n            }\n            if (_this.state !== STATE.NONE) {\n                _this.dispatchEvent(START_EVENT);\n            }\n        };\n        _this.onTouchMove = function (event) {\n            if (_this.enabled === false)\n                return;\n            event.preventDefault();\n            event.stopPropagation();\n            switch (event.touches.length) {\n                // one-fingered touch: rotate\n                case 1:\n                    {\n                        if (_this.enableRotate === false)\n                            return;\n                        if (_this.state !== STATE.TOUCH_ROTATE)\n                            return; // is this needed?...\n                        _this.rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n                        _this.rotateDelta.subVectors(_this.rotateEnd, _this.rotateStart);\n                        var element = _this.domElement === document ? _this.domElement.body : _this.domElement;\n                        // rotating across whole screen goes 360 degrees around\n                        _this.rotateLeft(2 * Math.PI * _this.rotateDelta.x / element.clientWidth * _this.rotateSpeed);\n                        // rotating up and down along whole screen attempts to go 360, but limited to 180\n                        _this.rotateUp(2 * Math.PI * _this.rotateDelta.y / element.clientHeight * _this.rotateSpeed);\n                        _this.rotateStart.copy(_this.rotateEnd);\n                        _this.update();\n                    }\n                    break;\n                // two-fingered touch: dolly\n                case 2:\n                    {\n                        if (_this.enableZoom === false)\n                            return;\n                        if (_this.state !== STATE.TOUCH_DOLLY)\n                            return; // is this needed?...\n                        var dx = event.touches[0].pageX - event.touches[1].pageX;\n                        var dy = event.touches[0].pageY - event.touches[1].pageY;\n                        var distance = Math.sqrt(dx * dx + dy * dy);\n                        _this.dollyEnd.set(0, distance);\n                        _this.dollyDelta.subVectors(_this.dollyEnd, _this.dollyStart);\n                        if (_this.dollyDelta.y > 0) {\n                            _this.dollyOut(_this.getZoomScale());\n                        }\n                        else if (_this.dollyDelta.y < 0) {\n                            _this.dollyIn(_this.getZoomScale());\n                        }\n                        _this.dollyStart.copy(_this.dollyEnd);\n                        _this.update();\n                    }\n                    break;\n                // three-fingered touch: pan\n                case 3:\n                    {\n                        if (_this.enablePan === false)\n                            return;\n                        if (_this.state !== STATE.TOUCH_PAN)\n                            return; // is this needed?...\n                        _this.panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n                        _this.panDelta.subVectors(_this.panEnd, _this.panStart);\n                        _this.pan(_this.panDelta.x, _this.panDelta.y);\n                        _this.panStart.copy(_this.panEnd);\n                        _this.update();\n                    }\n                    break;\n                default: {\n                    _this.state = STATE.NONE;\n                }\n            }\n        };\n        _this.onTouchEnd = function (event) {\n            if (_this.enabled === false)\n                return;\n            _this.dispatchEvent(END_EVENT);\n            _this.state = STATE.NONE;\n        };\n        _this.onContextMenu = function (event) {\n            event.preventDefault();\n        };\n        _this.domElement.addEventListener('contextmenu', _this.onContextMenu, false);\n        _this.domElement.addEventListener('mousedown', _this.onMouseDown, false);\n        _this.domElement.addEventListener('wheel', _this.onMouseWheel, false);\n        _this.domElement.addEventListener('touchstart', _this.onTouchStart, false);\n        _this.domElement.addEventListener('touchend', _this.onTouchEnd, false);\n        _this.domElement.addEventListener('touchmove', _this.onTouchMove, false);\n        _this.window.addEventListener('keydown', _this.onKeyDown, false);\n        // force an update at start\n        _this.update();\n        return _this;\n    }\n    OrbitControls.prototype.update = function () {\n        var position = this.object.position;\n        this.updateOffset.copy(position).sub(this.target);\n        // rotate offset to \"y-axis-is-up\" space\n        this.updateOffset.applyQuaternion(this.updateQuat);\n        // angle from z-axis around y-axis\n        this.spherical.setFromVector3(this.updateOffset);\n        if (this.autoRotate && this.state === STATE.NONE) {\n            this.rotateLeft(this.getAutoRotationAngle());\n        }\n        this.spherical.theta += this.sphericalDelta.theta;\n        this.spherical.phi += this.sphericalDelta.phi;\n        // restrict theta to be between desired limits\n        this.spherical.theta = Math.max(this.minAzimuthAngle, Math.min(this.maxAzimuthAngle, this.spherical.theta));\n        // restrict phi to be between desired limits\n        this.spherical.phi = Math.max(this.minPolarAngle, Math.min(this.maxPolarAngle, this.spherical.phi));\n        this.spherical.makeSafe();\n        this.spherical.radius *= this.scale;\n        // restrict radius to be between desired limits\n        this.spherical.radius = Math.max(this.minDistance, Math.min(this.maxDistance, this.spherical.radius));\n        // move target to panned location\n        this.target.add(this.panOffset);\n        this.updateOffset.setFromSpherical(this.spherical);\n        // rotate offset back to \"camera-up-vector-is-up\" space\n        this.updateOffset.applyQuaternion(this.updateQuatInverse);\n        position.copy(this.target).add(this.updateOffset);\n        this.object.lookAt(this.target);\n        if (this.enableDamping === true) {\n            this.sphericalDelta.theta *= (1 - this.dampingFactor);\n            this.sphericalDelta.phi *= (1 - this.dampingFactor);\n        }\n        else {\n            this.sphericalDelta.set(0, 0, 0);\n        }\n        this.scale = 1;\n        this.panOffset.set(0, 0, 0);\n        // update condition is:\n        // min(camera displacement, camera rotation in radians)^2 > EPS\n        // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n        if (this.zoomChanged ||\n            this.updateLastPosition.distanceToSquared(this.object.position) > EPS ||\n            8 * (1 - this.updateLastQuaternion.dot(this.object.quaternion)) > EPS) {\n            this.dispatchEvent(CHANGE_EVENT);\n            this.updateLastPosition.copy(this.object.position);\n            this.updateLastQuaternion.copy(this.object.quaternion);\n            this.zoomChanged = false;\n            return true;\n        }\n        return false;\n    };\n    OrbitControls.prototype.panLeft = function (distance, objectMatrix) {\n        this.panLeftV.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n        this.panLeftV.multiplyScalar(-distance);\n        this.panOffset.add(this.panLeftV);\n    };\n    OrbitControls.prototype.panUp = function (distance, objectMatrix) {\n        this.panUpV.setFromMatrixColumn(objectMatrix, 1); // get Y column of objectMatrix\n        this.panUpV.multiplyScalar(distance);\n        this.panOffset.add(this.panUpV);\n    };\n    // deltaX and deltaY are in pixels; right and down are positive\n    OrbitControls.prototype.pan = function (deltaX, deltaY) {\n        var element = this.domElement === document ? this.domElement.body : this.domElement;\n        if (this.object instanceof THREE.PerspectiveCamera) {\n            // perspective\n            var position = this.object.position;\n            this.panInternalOffset.copy(position).sub(this.target);\n            var targetDistance = this.panInternalOffset.length();\n            // half of the fov is center to top of screen\n            targetDistance *= Math.tan((this.object.fov / 2) * Math.PI / 180.0);\n            // we actually don't use screenWidth, since perspective camera is fixed to screen height\n            this.panLeft(2 * deltaX * targetDistance / element.clientHeight, this.object.matrix);\n            this.panUp(2 * deltaY * targetDistance / element.clientHeight, this.object.matrix);\n        }\n        else if (this.object instanceof THREE.OrthographicCamera) {\n            // orthographic\n            this.panLeft(deltaX * (this.object.right - this.object.left) / this.object.zoom / element.clientWidth, this.object.matrix);\n            this.panUp(deltaY * (this.object.top - this.object.bottom) / this.object.zoom / element.clientHeight, this.object.matrix);\n        }\n        else {\n            // camera neither orthographic nor perspective\n            console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n            this.enablePan = false;\n        }\n    };\n    OrbitControls.prototype.dollyIn = function (dollyScale) {\n        if (this.object instanceof THREE.PerspectiveCamera) {\n            this.scale /= dollyScale;\n        }\n        else if (this.object instanceof THREE.OrthographicCamera) {\n            this.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom * dollyScale));\n            this.object.updateProjectionMatrix();\n            this.zoomChanged = true;\n        }\n        else {\n            console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n            this.enableZoom = false;\n        }\n    };\n    OrbitControls.prototype.dollyOut = function (dollyScale) {\n        if (this.object instanceof THREE.PerspectiveCamera) {\n            this.scale *= dollyScale;\n        }\n        else if (this.object instanceof THREE.OrthographicCamera) {\n            this.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom / dollyScale));\n            this.object.updateProjectionMatrix();\n            this.zoomChanged = true;\n        }\n        else {\n            console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n            this.enableZoom = false;\n        }\n    };\n    OrbitControls.prototype.getAutoRotationAngle = function () {\n        return 2 * Math.PI / 60 / 60 * this.autoRotateSpeed;\n    };\n    OrbitControls.prototype.getZoomScale = function () {\n        return Math.pow(0.95, this.zoomSpeed);\n    };\n    OrbitControls.prototype.rotateLeft = function (angle) {\n        this.sphericalDelta.theta -= angle;\n    };\n    OrbitControls.prototype.rotateUp = function (angle) {\n        this.sphericalDelta.phi -= angle;\n    };\n    OrbitControls.prototype.getPolarAngle = function () {\n        return this.spherical.phi;\n    };\n    OrbitControls.prototype.getAzimuthalAngle = function () {\n        return this.spherical.theta;\n    };\n    OrbitControls.prototype.dispose = function () {\n        this.domElement.removeEventListener('contextmenu', this.onContextMenu, false);\n        this.domElement.removeEventListener('mousedown', this.onMouseDown, false);\n        this.domElement.removeEventListener('wheel', this.onMouseWheel, false);\n        this.domElement.removeEventListener('touchstart', this.onTouchStart, false);\n        this.domElement.removeEventListener('touchend', this.onTouchEnd, false);\n        this.domElement.removeEventListener('touchmove', this.onTouchMove, false);\n        document.removeEventListener('mousemove', this.onMouseMove, false);\n        document.removeEventListener('mouseup', this.onMouseUp, false);\n        this.window.removeEventListener('keydown', this.onKeyDown, false);\n        //this.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n    };\n    OrbitControls.prototype.reset = function () {\n        this.target.copy(this.target0);\n        this.object.position.copy(this.position0);\n        this.object.zoom = this.zoom0;\n        this.object.updateProjectionMatrix();\n        this.dispatchEvent(CHANGE_EVENT);\n        this.update();\n        this.state = STATE.NONE;\n    };\n    Object.defineProperty(OrbitControls.prototype, \"center\", {\n        // backward compatibility\n        get: function () {\n            console.warn('THREE.OrbitControls: .center has been renamed to .target');\n            return this.target;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(OrbitControls.prototype, \"noZoom\", {\n        get: function () {\n            console.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n            return !this.enableZoom;\n        },\n        set: function (value) {\n            console.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n            this.enableZoom = !value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return OrbitControls;\n}(THREE.EventDispatcher));\nexport { OrbitControls };\n","import * as $ from 'jquery';\nimport { Vector3 } from 'three';\nimport { OrbitControls } from 'src/plugin/Orbit-controls';\nvar ControlsManager = /** @class */ (function () {\n    function ControlsManager(camera, rendererDOM) {\n        this.camera = camera;\n        this.rendererDOM = rendererDOM;\n        this.config = {\n            enableZoom: true,\n            enableDamping: true,\n            dampingFactor: 0.08,\n            rotateSpeed: 0.3,\n            zoomSpeed: 0.5,\n        };\n        this.controlsCenter = new Vector3();\n    }\n    ControlsManager.prototype.createControls = function () {\n        this.controls = new OrbitControls(this.camera, this.rendererDOM);\n        this.updateCenter();\n        this.setConfig();\n        return this.controls;\n    };\n    ControlsManager.prototype.getControls = function () {\n        return this.controls;\n    };\n    ControlsManager.prototype.updateCenter = function () {\n        if (!this.controls) {\n            throw new Error('There is no controls!');\n        }\n        ;\n        var _a = this.controlsCenter, x = _a.x, y = _a.y, z = _a.z;\n        this.controls.target.set(x, y, z);\n    };\n    ControlsManager.prototype.setConfig = function (config) {\n        if (config === void 0) { config = {}; }\n        var newConfig = $.extend(this.config, config);\n        $.extend(this.controls, this.config);\n    };\n    return ControlsManager;\n}());\nexport default ControlsManager;\n","/**\n * @class\n * @name Ticker\n * @author Evan Moon\n */\nimport { J2000 } from 'src/constants';\nvar Ticker = /** @class */ (function () {\n    function Ticker(date) {\n        this.date = date;\n        this.startDate = date;\n        this.calcPerTick = 1;\n        this.actualCalcPerTick = 1;\n        this.secondsPerTick = 1;\n        this.deltaTIncrement = 1;\n        this.epochTime = date.getTime();\n    }\n    Object.defineProperty(Ticker.prototype, \"currentTime\", {\n        get: function () {\n            var date = this.date;\n            var m = date.getTime();\n            var nextDate = m + this.secondsPerTick;\n            this.date = new Date(nextDate);\n            this.epochTime = date.getTime();\n            return this.date;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Ticker.prototype, \"deltaT\", {\n        get: function () {\n            return this.secondsPerTick;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Ticker.prototype, \"epochTime\", {\n        get: function () {\n            return this._epochTime;\n        },\n        set: function (date) {\n            this._epochTime = (date - J2000.getTime()) / 1000;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Ticker.prototype.setDeltaT = function () {\n        if (this.secondsPerTick < this.calcPerTick) {\n            this.actualCalcPerTick = this.secondsPerTick;\n        }\n        else {\n            this.actualCalcPerTick = this.calcPerTick;\n        }\n        this.deltaTIncrement = Math.round(this.secondsPerTick / this.actualCalcPerTick);\n        this.secondsPerTick = this.deltaTIncrement * this.actualCalcPerTick;\n    };\n    Ticker.prototype.setCalcPerTick = function (tick) {\n        if (tick === void 0) { tick = 1; }\n        this.calcPerTick = tick;\n        this.setDeltaT();\n    };\n    Ticker.prototype.setSecondsPerTick = function (tick) {\n        if (tick === void 0) { tick = 1; }\n        this.secondsPerTick = tick;\n        this.setDeltaT();\n    };\n    return Ticker;\n}());\nexport { Ticker };\n","/**\n * @class\n * @name World\n * @author Evan Moon\n */\nimport * as $ from 'jquery';\nimport { KM } from 'src/constants';\nimport { Scenario } from 'src/lib/graphics/Scenario';\nimport { Star } from 'src/lib/astronomical/Star';\nimport DimensionService from 'src/lib/services/Dimension.service';\nimport { Scene, WebGLRenderer, AmbientLight, Vector3, Vector2, SphereBufferGeometry, MeshBasicMaterial, Mesh, Color, BackSide, TextureLoader, Raycaster, AxisHelper, GridHelper } from 'three';\nimport CameraManager from 'src/lib/managers/Camera.manager';\nimport ControlsManager from 'src/lib/managers/Controls.manager';\nimport { Ticker } from 'src/lib/helpers/Ticker';\nvar World = /** @class */ (function () {\n    function World(rendererSelector) {\n        this.centerVector = new Vector3();\n        this.rendererSelector = rendererSelector;\n        this.rendererWidth = window.innerWidth;\n        this.rendererHeight = window.innerHeight;\n        this.rendererRatio = window.devicePixelRatio;\n        this.setRenderer(rendererSelector);\n        this.stageSize = 50000;\n        this.renderConfig = {\n            antialias: true,\n            preserveDrawingBuffer: true,\n            alpha: true\n        };\n        this.date = new Date();\n        this.scene = new Scene();\n        this.currentSpaceTexture = 'milkyway';\n        this.isPlaying = false;\n    }\n    World.prototype.setWindow = function (w, h) {\n        this.rendererWidth = w;\n        this.rendererHeight = h;\n    };\n    World.prototype.setDimension = function (_a) {\n        var smallest = _a.smallest, largest = _a.largest;\n        DimensionService.setLargestDimension(largest);\n        this.stageSize = DimensionService.getScaled(largest);\n        this.smallestSMA = smallest;\n    };\n    World.prototype.calcDimension = function (scenarioData) {\n        var sma = {\n            largest: 0,\n            smallest: 0\n        };\n        if (scenarioData.system.type === 'starsystem') {\n            var system = scenarioData.system;\n            sma.largest = system.planets.reduce(function (a, b) {\n                return (b.orbit && b.orbit.base.a > a) ? b.orbit.base.a : a;\n            }, 0);\n            sma.smallest = system.planets.reduce(function (a, b) {\n                return (b.orbit && (!a || b.orbit.base.a < a)) ? b.orbit.base.a : a;\n            }, 0);\n        }\n        else if (scenarioData.system.type === 'planetsystem') {\n            var system = scenarioData.system;\n            sma.largest = system.moons.reduce(function (a, b) {\n                return (b.orbit && b.orbit.base.a > a) ? b.orbit.base.a : a;\n            }, 0);\n            sma.smallest = system.moons.reduce(function (a, b) {\n                return (b.orbit && (!a || b.orbit.base.a < a)) ? b.orbit.base.a : a;\n            }, 0);\n        }\n        else\n            throw new Error('Please check the scenario type!: calcDimension::World');\n        sma.largest *= KM;\n        sma.smallest *= KM;\n        return sma;\n    };\n    World.prototype.setRenderer = function (selector) {\n        this.rendererDOMjQuery = $(selector);\n        this.rendererDOM = this.rendererDOMjQuery[0];\n        this.rendererWidth = this.rendererDOMjQuery.width();\n        this.rendererHeight = this.rendererDOMjQuery.height();\n    };\n    World.prototype.setScenario = function (scenarioData) {\n        var _this = this;\n        this.date = scenarioData.startDate;\n        this.startDate = scenarioData.startDate;\n        this.setDimension(this.calcDimension(scenarioData));\n        this.scenario = new Scenario(scenarioData);\n        var planetBodies = this.scenario.getBodies();\n        this.scene.add(planetBodies.center);\n        planetBodies.others.forEach(function (planetBody) { return _this.scene.add(planetBody); });\n        //      \n    };\n    World.prototype.getScenario = function () {\n        return this.scenario;\n    };\n    World.prototype.create = function () {\n        var _this = this;\n        if (!this.scenario) {\n            console.error('You have to set any scenario first. use setScenario()');\n        }\n        // set renderer\n        if (!this.renderer) {\n            this.renderer = new WebGLRenderer(this.renderConfig);\n        }\n        else {\n            console.error('There is no renderer!');\n        }\n        this.renderer.setSize(this.rendererWidth, this.rendererHeight);\n        this.renderer.setPixelRatio(this.rendererRatio);\n        this.renderer.setClearColor(0x222222, 1);\n        // set basic light\n        var light = new AmbientLight(0x111111);\n        light.position.set(0, 0, 0);\n        this.scene.add(light);\n        // set raycaster\n        this.raycaster = new Raycaster();\n        // set mouse position to 0, 0, 0\n        this.mousePos = new Vector2();\n        this.rendererDOMjQuery.append(this.renderer.domElement);\n        $(document).on('click', function (e) {\n            _this.onClick(e);\n        });\n        this.initCamera();\n        this.initControls();\n        this.initSpacebox();\n        // this.initHelper();\n        this.ticker = new Ticker(this.scenario.getStartDate());\n        this.ticker.setSecondsPerTick(this.scenario.getSecondsPerTick());\n        this.ticker.setCalcPerTick(this.scenario.getCalcPerTick());\n        this.setPlanets();\n    };\n    World.prototype.render = function () {\n        var _this = this;\n        var centerObject = this.scenario.system.getCenter();\n        var cameraAbsolutePosition = this.CameraManager.getAbsolutePosition();\n        this.controls.update();\n        this.renderer.render(this.scene, this.currentCamera);\n        if (centerObject instanceof Star) {\n            var star = centerObject;\n            var starPosition = this.centerVector;\n            var flarePosition = cameraAbsolutePosition.clone().sub(starPosition).multiplyScalar(0.1);\n            var flareSize = star.getScreenSizeRatio(cameraAbsolutePosition, this.CameraManager.getConfig().fov);\n            star.setFlarePosition(flarePosition);\n            star.setFlareSize(flareSize, this.rendererHeight);\n            star.labelManager.updatePosition(star.compressedPos, this.currentCamera);\n        }\n        var bodies = this.scenario.getAstronomicalObjects();\n        var epochTime = new Date(this.ticker.epochTime);\n        if (this.isPlaying) {\n            this.date = this.ticker.currentTime;\n            var epochTime_1 = new Date(this.ticker.epochTime);\n            bodies.center.moveRotating(epochTime_1);\n        }\n        var queue = bodies.others.map(function (planet) {\n            return new Promise(function (resolve) {\n                if (_this.isPlaying) {\n                    planet.moveRotating(epochTime);\n                    planet.setPositionByDate(epochTime);\n                }\n                planet.labelManager.updatePosition(planet.compressedPos, _this.currentCamera);\n                resolve();\n            });\n        });\n        return Promise.all(queue);\n    };\n    World.prototype.setSecondsPerTick = function (tick) {\n        this.ticker.setSecondsPerTick(tick);\n    };\n    World.prototype.setCameraPosition = function (planetId) {\n        this.CameraManager.setCameraPosition(this.scenario, this.cameraPos, planetId);\n        this.cameraPos = planetId;\n    };\n    World.prototype.initCamera = function () {\n        var aspect = this.rendererWidth / this.rendererHeight;\n        this.CameraManager = new CameraManager(this.scene, this.stageSize, aspect);\n        this.CameraManager.init();\n        this.currentCamera = this.CameraManager.globalCamera;\n        this.cameraPos = 'root';\n        this.CameraManager.initCurrentCameraPosition();\n    };\n    World.prototype.initControls = function () {\n        this.ControlsManager = new ControlsManager(this.currentCamera, this.rendererDOM);\n        this.controls = this.ControlsManager.createControls();\n    };\n    World.prototype.initSpacebox = function () {\n        var name = 'spacebox';\n        var d = 6;\n        var r = this.stageSize * d;\n        var widthSegments = 60;\n        var heightSegments = 40;\n        var space = {\n            geometry: new SphereBufferGeometry(this.stageSize * d, widthSegments, heightSegments),\n            material: new MeshBasicMaterial({\n                color: new Color(0xaaaaaa),\n                side: BackSide,\n                map: new TextureLoader().load(\"static/images/space/\" + this.currentSpaceTexture + \".jpg\")\n            })\n        };\n        space.mesh = new Mesh(space.geometry, space.material);\n        space.mesh.name = name;\n        space.mesh.rotateX(90);\n        if (this.scene.getObjectByName(name)) {\n            this.scene.remove(this.scene.getObjectByName(name));\n        }\n        this.scene.add(space.mesh);\n    };\n    World.prototype.initHelper = function () {\n        var axisHelper = new AxisHelper(this.stageSize);\n        var gridHelper = new GridHelper(this.stageSize, this.stageSize / 10);\n        gridHelper.rotation.x = (90 / 180) * Math.PI;\n        this.scene.add(axisHelper, gridHelper);\n    };\n    World.prototype.setPlanets = function () {\n        var _this = this;\n        var epochTime = new Date(this.ticker.epochTime);\n        if (!this.scenario) {\n            throw new Error('There is no scenario: setPlanets::World');\n        }\n        var bodies3d = this.scenario.getBodies();\n        this.scene.add(bodies3d.center);\n        bodies3d.others.forEach(function (planet) { return _this.scene.add(planet); });\n        var bodies = this.scenario.getAstronomicalObjects();\n        bodies.others.forEach(function (planet) {\n            planet.moveRotating(epochTime);\n            planet.setPositionByDate(epochTime);\n            planet.labelManager.updatePosition(planet.compressedPos, _this.currentCamera);\n            planet.hasTrace = true;\n        });\n    };\n    World.prototype.onClick = function (e) {\n        e.preventDefault();\n        this.mousePos.x = (e.clientX / this.renderer.domElement.clientWidth) * 2 - 1;\n        this.mousePos.y = -(e.clientY / this.renderer.domElement.clientHeight) * 2 + 1;\n        // this.raycaster.setFromCamera(this.mousePos, this.camera);\n        var intersects = this.raycaster.intersectObjects(this.scene.children, true);\n    };\n    return World;\n}());\nexport { World };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Vue, Component, Watch } from 'vue-property-decorator';\nimport { Mutation, State, Getter } from 'vuex-class';\nimport LoaderService from 'src/lib/services/Loader.service';\nimport { World } from 'src/lib/graphics/World';\nimport { SET_CURRENT_DATE, GET_CURRENT_SCENARIO_SECONDS_PER_TICK } from 'src/stores/viewer/config';\nvar GLRenderer = /** @class */ (function (_super) {\n    __extends(GLRenderer, _super);\n    function GLRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rendererID = 'renderer';\n        return _this;\n    }\n    GLRenderer.prototype.tick = function () {\n        var _this = this;\n        this.world.render();\n        window.requestAnimationFrame(function () { return _this.tick(); });\n        if (this.isPlaying) {\n            this.setCurrentDate(this.world.date);\n        }\n    };\n    GLRenderer.prototype.loadWorld = function () {\n        var _this = this;\n        LoaderService.load().then(function (res) {\n            _this.world = new World(\"#\" + _this.rendererID);\n            _this.world.isPlaying = _this.isPlaying;\n            _this.world.setScenario(_this.currentScenario);\n            _this.world.create();\n            _this.world.setCameraPosition(_this.currentCameraPosition);\n            _this.setCurrentDate(_this.world.date);\n            _this.tick();\n        });\n    };\n    GLRenderer.prototype.onChangeIsPlaying = function (isPlaying) {\n        this.world.isPlaying = isPlaying;\n    };\n    GLRenderer.prototype.onChangeCurrentCameraPosition = function (planetId) {\n        this.world.setCameraPosition(planetId);\n    };\n    GLRenderer.prototype.onChangeCurrentSecondsPerTick = function (tick) {\n        this.world.setSecondsPerTick(tick);\n    };\n    GLRenderer.prototype.mounted = function () {\n        var _this = this;\n        this.$nextTick(function () {\n            _this.loadWorld();\n        });\n    };\n    __decorate([\n        Mutation(SET_CURRENT_DATE)\n    ], GLRenderer.prototype, \"setCurrentDate\", void 0);\n    __decorate([\n        State(function (state) { return state.viewer.currentScenario; })\n    ], GLRenderer.prototype, \"currentScenario\", void 0);\n    __decorate([\n        State(function (state) { return state.viewer.isPlaying; })\n    ], GLRenderer.prototype, \"isPlaying\", void 0);\n    __decorate([\n        State(function (state) { return state.viewer.currentCameraPosition; })\n    ], GLRenderer.prototype, \"currentCameraPosition\", void 0);\n    __decorate([\n        Getter(GET_CURRENT_SCENARIO_SECONDS_PER_TICK)\n    ], GLRenderer.prototype, \"currentSecondsPerTick\", void 0);\n    __decorate([\n        Watch('isPlaying')\n    ], GLRenderer.prototype, \"onChangeIsPlaying\", null);\n    __decorate([\n        Watch('currentCameraPosition')\n    ], GLRenderer.prototype, \"onChangeCurrentCameraPosition\", null);\n    __decorate([\n        Watch('currentSecondsPerTick')\n    ], GLRenderer.prototype, \"onChangeCurrentSecondsPerTick\", null);\n    GLRenderer = __decorate([\n        Component({\n            name: 'GLRenderer'\n        })\n    ], GLRenderer);\n    return GLRenderer;\n}(Vue));\nexport default GLRenderer;\n","import mod from \"-!../../node_modules/ts-loader/index.js??ref--2!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GLRenderer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/ts-loader/index.js??ref--2!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GLRenderer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GLRenderer.vue?vue&type=template&id=36bae040&scoped=true&\"\nimport script from \"./GLRenderer.vue?vue&type=script&lang=ts&\"\nexport * from \"./GLRenderer.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GLRenderer.vue?vue&type=style&index=0&id=36bae040&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36bae040\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"renderer\",attrs:{\"id\":_vm.rendererID}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Vue, Component } from 'vue-property-decorator';\nimport { State, Mutation } from 'vuex-class';\nimport * as moment from 'moment';\nimport { SET_PLAYING, SET_CURRENT_CAMERA_POSITION, SET_CURRENT_SCENARIO_SECONDS_PER_TICK } from 'src/stores/viewer/config';\nvar ViewerTool = /** @class */ (function (_super) {\n    __extends(ViewerTool, _super);\n    function ViewerTool() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.currentScenarioId = '';\n        _this.currentCameraPositionPlanetId = '';\n        _this.currentTimesetIndex = -1;\n        return _this;\n    }\n    Object.defineProperty(ViewerTool.prototype, \"currentTimeset\", {\n        get: function () {\n            return this.timesets[this.currentTimesetIndex];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ViewerTool.prototype.togglePlaying = function () {\n        this.setPlaying(!this.isPlaying);\n    };\n    ViewerTool.prototype.onChangeCurrentCameraPositionPlanetId = function (planetId) {\n        this.setCurrentCameraPosition(planetId);\n    };\n    ViewerTool.prototype.onChangeCurrentTimeIndex = function () {\n        if (!this.currentTimeset) {\n            return;\n        }\n        this.setCurrentScenarioSecondsPerTick(this.currentTimeset.time);\n    };\n    ViewerTool.prototype.created = function () {\n        var _this = this;\n        this.currentScenarioId = this.currentScenario.id;\n        this.currentCameraPositionPlanetId = this.currentCameraPosition;\n        this.currentTimesetIndex = this.timesets.findIndex(function (timeset) {\n            return timeset.time === _this.currentScenario.secondsPerTick;\n        });\n    };\n    __decorate([\n        State('Viewer')\n    ], ViewerTool.prototype, \"viewerState\", void 0);\n    __decorate([\n        State(function (state) { return state.viewer.isPlaying; })\n    ], ViewerTool.prototype, \"isPlaying\", void 0);\n    __decorate([\n        State(function (state) { return state.viewer.currentDate; })\n    ], ViewerTool.prototype, \"currentDate\", void 0);\n    __decorate([\n        State(function (state) { return state.viewer.currentScenario; })\n    ], ViewerTool.prototype, \"currentScenario\", void 0);\n    __decorate([\n        State(function (state) { return state.viewer.currentCameraPosition; })\n    ], ViewerTool.prototype, \"currentCameraPosition\", void 0);\n    __decorate([\n        State(function (state) { return state.viewer.timesets; })\n    ], ViewerTool.prototype, \"timesets\", void 0);\n    __decorate([\n        Mutation(SET_CURRENT_CAMERA_POSITION)\n    ], ViewerTool.prototype, \"setCurrentCameraPosition\", void 0);\n    __decorate([\n        Mutation(SET_PLAYING)\n    ], ViewerTool.prototype, \"setPlaying\", void 0);\n    __decorate([\n        Mutation(SET_CURRENT_SCENARIO_SECONDS_PER_TICK)\n    ], ViewerTool.prototype, \"setCurrentScenarioSecondsPerTick\", void 0);\n    ViewerTool = __decorate([\n        Component({\n            name: 'ViewerTool',\n            filters: {\n                date: function (value) {\n                    return moment(value).format('YYYY-MM-DD HH:mm');\n                }\n            }\n        })\n    ], ViewerTool);\n    return ViewerTool;\n}(Vue));\nexport default ViewerTool;\n;\n","import mod from \"-!../../node_modules/ts-loader/index.js??ref--2!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewerTool.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/ts-loader/index.js??ref--2!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewerTool.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ViewerTool.vue?vue&type=template&id=42d3c12a&scoped=true&\"\nimport script from \"./ViewerTool.vue?vue&type=script&lang=ts&\"\nexport * from \"./ViewerTool.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ViewerTool.vue?vue&type=style&index=0&id=42d3c12a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42d3c12a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-row',{staticClass:\"viewer-tool\",attrs:{\"align-h\":\"start\"}},[_c('div',{staticClass:\"tool-wrapper\",attrs:{\"data-name\":\"play-button\"}},[_c('b-button',{staticClass:\"playing-button\",on:{\"click\":_vm.togglePlaying}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isPlaying),expression:\"!isPlaying\"}],staticClass:\"xi-play\"}),_vm._v(\" \"),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isPlaying),expression:\"isPlaying\"}],staticClass:\"xi-pause\"})])],1),_vm._v(\" \"),_c('b-col',{staticClass:\"tool-wrapper\",attrs:{\"cols\":\"2\",\"data-name\":\"time\"}},[_c('p',[_vm._v(_vm._s(_vm._f(\"date\")(_vm.currentDate)))])]),_vm._v(\" \"),_c('b-col',{staticClass:\"tool-wrapper\",attrs:{\"cols\":\"2\",\"data-name\":\"timesets\"}},[_c('b-form-select',{on:{\"change\":_vm.onChangeCurrentTimeIndex},model:{value:(_vm.currentTimesetIndex),callback:function ($$v) {_vm.currentTimesetIndex=$$v},expression:\"currentTimesetIndex\"}},_vm._l((_vm.timesets),function(timeset,index){return _c('option',{key:timeset.name,domProps:{\"value\":index}},[_vm._v(\"\\n                \"+_vm._s(timeset.name)+\"\\n            \")])}),0)],1),_vm._v(\" \"),_c('b-col',{staticClass:\"tool-wrapper\",attrs:{\"cols\":\"2\",\"data-name\":\"camera-position\"}},[_c('b-form-select',{on:{\"change\":_vm.onChangeCurrentCameraPositionPlanetId},model:{value:(_vm.currentCameraPositionPlanetId),callback:function ($$v) {_vm.currentCameraPositionPlanetId=$$v},expression:\"currentCameraPositionPlanetId\"}},[_c('option',{attrs:{\"value\":\"root\"}},[_vm._v(\"All Planets\")]),_vm._v(\" \"),_vm._l((_vm.currentScenario.system.planets),function(planet){return _c('option',{domProps:{\"value\":planet.id}},[_vm._v(\"\\n                \"+_vm._s(planet.name)+\"\\n            \")])})],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport Vue from 'vue';\nimport Component from 'vue-class-component';\nimport GLRenderer from 'src/components/GLRenderer.vue';\nimport ViewerTool from 'src/components/ViewerTool.vue';\nvar Viewer = /** @class */ (function (_super) {\n    __extends(Viewer, _super);\n    function Viewer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isPlaying = false;\n        return _this;\n    }\n    Viewer.prototype.onChangePlaying = function (isPlaying) {\n        this.isPlaying = isPlaying;\n    };\n    Viewer = __decorate([\n        Component({\n            name: 'Viewer',\n            components: { GLRenderer: GLRenderer, ViewerTool: ViewerTool }\n        })\n    ], Viewer);\n    return Viewer;\n}(Vue));\nexport default Viewer;\n","import mod from \"-!../../node_modules/ts-loader/index.js??ref--2!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Viewer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/ts-loader/index.js??ref--2!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Viewer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Viewer.vue?vue&type=template&id=8f2483ec&lang=html&\"\nimport script from \"./Viewer.vue?vue&type=script&lang=ts&\"\nexport * from \"./Viewer.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Viewer.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{attrs:{\"fluid\":\"\"}},[_c('ViewerTool',{ref:\"toolbar\",on:{\"onChangePlaying\":_vm.onChangePlaying}}),_vm._v(\" \"),_c('GLRenderer',{ref:\"renderer\",attrs:{\"is-playing\":_vm.isPlaying}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue';\nimport Router from 'vue-router';\nimport BootstrapVue from 'bootstrap-vue';\nimport Viewer from 'src/pages/Viewer.vue';\nVue.use(Router);\nVue.use(BootstrapVue);\nexport default new Router({\n    routes: [{\n            path: '/',\n            name: 'Viewer',\n            component: Viewer\n        }]\n});\n","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport { Vue, Component } from 'vue-property-decorator';\nimport App from './App.vue';\nimport store from './stores/store';\nimport router from './router';\nimport 'src/polyfills/math.polyfill';\nVue.config.productionTip = false;\nComponent.registerHooks([\n    'beforeRouteEnter',\n    'beforeRouteLeave',\n    'beforeRouteUpdate'\n]);\n/* eslint-disable no-new */\nnew Vue({\n    el: '#app',\n    store: store,\n    router: router,\n    template: '<App/>',\n    components: { App: App }\n});\n"],"sourceRoot":""}